{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/card/card.component.css","webpack:///./src/app/card/card.component.html","webpack:///./src/app/card/card.component.ts","webpack:///./src/app/chat/chat.component.css","webpack:///./src/app/chat/chat.component.html","webpack:///./src/app/chat/chat.component.ts","webpack:///./src/app/dashboard/dashboard.component.css","webpack:///./src/app/dashboard/dashboard.component.html","webpack:///./src/app/dashboard/dashboard.component.ts","webpack:///./src/app/login-popup/login-popup.component.css","webpack:///./src/app/login-popup/login-popup.component.html","webpack:///./src/app/login-popup/login-popup.component.ts","webpack:///./src/app/login/login.component.css","webpack:///./src/app/login/login.component.html","webpack:///./src/app/login/login.component.ts","webpack:///./src/app/models/chat-channel.model.ts","webpack:///./src/app/models/message.model.ts","webpack:///./src/app/register/register.component.css","webpack:///./src/app/register/register.component.html","webpack:///./src/app/register/register.component.ts","webpack:///./src/app/services/auth.guard.service.ts","webpack:///./src/app/services/chat.service.ts","webpack:///./src/app/services/rdf.service.ts","webpack:///./src/app/services/solid.auth.service.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuY3NzIn0= */\"","module.exports = \"<router-outlet></router-outlet>\"","import { Component } from '@angular/core';\r\nimport { popupLogin } from 'solid-auth-client/dist-lib/solid-auth-client.bundle.js';\r\n\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  title = 'app';\r\n}\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport {LoginPopupComponent} from './login-popup/login-popup.component';\r\nimport {LoginComponent} from './login/login.component';\r\nimport { CardComponent } from './card/card.component';\r\nimport { DashboardComponent } from './dashboard/dashboard.component';\r\n\r\n// Services\r\nimport { AuthService } from './services/solid.auth.service';\r\nimport { AuthGuard } from './services/auth.guard.service';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { RegisterComponent } from './register/register.component';\r\nimport { ToastrModule } from 'ngx-toastr';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { ChatComponent } from './chat/chat.component';\r\n\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LoginComponent\r\n  },\r\n  {\r\n    path: 'login',\r\n    component: LoginComponent\r\n  },\r\n  {\r\n    path: 'login-popup',\r\n    component: LoginPopupComponent\r\n  },\r\n  {\r\n    path: 'dashboard',\r\n    component: DashboardComponent,\r\n    canActivate: [AuthGuard],\r\n  },\r\n  {\r\n    path: 'card',\r\n    component: CardComponent,\r\n    canActivate: [AuthGuard],\r\n  },\r\n  {\r\n    path: 'register',\r\n    component: RegisterComponent\r\n  },\r\n  {\r\n    path: 'chat',\r\n    component: ChatComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    LoginComponent,\r\n    LoginPopupComponent,\r\n    DashboardComponent,\r\n    CardComponent,\r\n    RegisterComponent,\r\n    ChatComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    FormsModule,\r\n    RouterModule.forRoot(routes),\r\n    NgSelectModule,\r\n    ToastrModule.forRoot(),\r\n    BrowserAnimationsModule //required for toastr\r\n  ],\r\n  providers: [AuthService],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","module.exports = \".profile-container {\\r\\n  font-family: 'Roboto', sans-serif;\\r\\n}\\r\\n\\r\\n.profile-container h1 {\\r\\n  font-size: 24px;\\r\\n  color: #7C55FB;\\r\\n  font-weight: bold;\\r\\n  line-height: 32px;\\r\\n  letter-spacing: 1.2px;\\r\\n  text-align: center;\\r\\n  margin-top: 82px;\\r\\n  text-transform: uppercase;\\r\\n}\\r\\n\\r\\n.profile-fields-container {\\r\\n  max-width: 740px;\\r\\n  min-height: 500px;\\r\\n  margin: 0 auto;\\r\\n  border: 1px solid #ccc;\\r\\n  box-shadow: #ccc 1px 1px 4px;\\r\\n  position: relative;\\r\\n}\\r\\n\\r\\n.profile-fields-container .profile-image-container {\\r\\n  height: 200px;\\r\\n  width: 100%;\\r\\n  background-size: cover !important;\\r\\n  background: url('/assets/images/Solid_Pattern.png');\\r\\n}\\r\\n\\r\\n.profile-fields-container .profile-image-container img {\\r\\n  height: 128px;\\r\\n  border-radius: 50%;\\r\\n  margin-left: auto;\\r\\n  margin-right:auto;\\r\\n  position: relative;\\r\\n  top:40px;\\r\\n  display: block;\\r\\n}\\r\\n\\r\\n.profile-fields-container i {\\r\\n  font-size: 14px;\\r\\n  color: #89969F;\\r\\n  padding-left: 26px;\\r\\n  padding-right: 10px;\\r\\n  margin-top: 24px;\\r\\n}\\r\\n\\r\\n.profile-fields-container input[type=text].field-text {\\r\\n  height: 12px;\\r\\n  width: 280px;\\r\\n  border: 1px solid #89969F;\\r\\n  border-radius: 4px;\\r\\n  padding: 10px;\\r\\n}\\r\\n\\r\\n.profile-fields-container input[type=text].field-text::-webkit-input-placeholder {\\r\\n  color: rgba(102,102,102,0.2);\\r\\n}\\r\\n\\r\\n.profile-fields-container input[type=text].field-text:-ms-input-placeholder {\\r\\n  color: rgba(102,102,102,0.2);\\r\\n}\\r\\n\\r\\n.profile-fields-container input[type=text].field-text::-ms-input-placeholder {\\r\\n  color: rgba(102,102,102,0.2);\\r\\n}\\r\\n\\r\\n.profile-fields-container input[type=text].field-text::placeholder {\\r\\n  color: rgba(102,102,102,0.2);\\r\\n}\\r\\n\\r\\n.profile-save-button-container {\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  margin-bottom: auto;\\r\\n  height: 100px;\\r\\n  flex-direction: column;\\r\\n  justify-content: flex-end;\\r\\n}\\r\\n\\r\\n.profile-save-button {\\r\\n  background-color: #7C55FB;\\r\\n  margin-left: auto;\\r\\n  margin-right: auto;\\r\\n  width: 280px;\\r\\n}\\r\\n\\r\\n.profile-save-button:disabled {\\r\\n  background-color: #F0EEEB;\\r\\n  border-color: #F0EEEB;\\r\\n  cursor: not-allowed;\\r\\n}\\r\\n\\r\\n.topnav {\\r\\n  position:absolute;\\r\\n  top:0;\\r\\n  left:0;\\r\\n  width: 100%;\\r\\n  background-color: #7C4DFF;\\r\\n  height: 50px;\\r\\n  color: #fff;\\r\\n}\\r\\n\\r\\n.topnav .logo {\\r\\n  display: inline-block;\\r\\n  font-family: 'Roboto Slab', serif;\\r\\n  font-size: 24px;\\r\\n  font-weight: bold;\\r\\n  text-transform: uppercase;\\r\\n  line-height: 32px;\\r\\n  padding-right: 80px;\\r\\n  position: relative;\\r\\n  top: -8px;\\r\\n  left: 28px;\\r\\n}\\r\\n\\r\\n.topnav .menu-item {\\r\\n  display: inline-block;\\r\\n  font-size: 10px;\\r\\n  line-height: 13px;\\r\\n  width: 100px;\\r\\n  height: 100%;\\r\\n  text-align: center;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.topnav .menu-item i {\\r\\n  font-size: 24px;\\r\\n  margin-top:8px;\\r\\n  margin-bottom: 2px;\\r\\n}\\r\\n\\r\\n.topnav .profile-menu {\\r\\n  float: right;\\r\\n  display: inline-block;\\r\\n  width: 50px;\\r\\n  height: 50px;\\r\\n  background-color: rgba(0,0,0,0.25);\\r\\n}\\r\\n\\r\\n.topnav .profile-menu img {\\r\\n  display: block;\\r\\n  height: 30px;\\r\\n  width: 30px;\\r\\n  border-radius: 50%;\\r\\n  margin: 0 auto;\\r\\n  margin-top:10px;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.loading-image {\\r\\n  text-align: center;\\r\\n  margin-top: 50px;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY2FyZC9jYXJkLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxpQ0FBaUM7QUFDbkM7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsY0FBYztFQUNkLGlCQUFpQjtFQUNqQixpQkFBaUI7RUFDakIscUJBQXFCO0VBQ3JCLGtCQUFrQjtFQUNsQixnQkFBZ0I7RUFDaEIseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGlCQUFpQjtFQUNqQixjQUFjO0VBQ2Qsc0JBQXNCO0VBQ3RCLDRCQUE0QjtFQUM1QixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsV0FBVztFQUNYLGlDQUFpQztFQUNqQyxtREFBbUQ7QUFDckQ7O0FBRUE7RUFDRSxhQUFhO0VBQ2Isa0JBQWtCO0VBQ2xCLGlCQUFpQjtFQUNqQixpQkFBaUI7RUFDakIsa0JBQWtCO0VBQ2xCLFFBQVE7RUFDUixjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLGNBQWM7RUFDZCxrQkFBa0I7RUFDbEIsbUJBQW1CO0VBQ25CLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLFlBQVk7RUFDWixZQUFZO0VBQ1oseUJBQXlCO0VBQ3pCLGtCQUFrQjtFQUNsQixhQUFhO0FBQ2Y7O0FBRUE7RUFDRSw0QkFBNEI7QUFDOUI7O0FBRkE7RUFDRSw0QkFBNEI7QUFDOUI7O0FBRkE7RUFDRSw0QkFBNEI7QUFDOUI7O0FBRkE7RUFDRSw0QkFBNEI7QUFDOUI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLG1CQUFtQjtFQUNuQixhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixpQkFBaUI7RUFDakIsa0JBQWtCO0VBQ2xCLFlBQVk7QUFDZDs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixxQkFBcUI7RUFDckIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsaUJBQWlCO0VBQ2pCLEtBQUs7RUFDTCxNQUFNO0VBQ04sV0FBVztFQUNYLHlCQUF5QjtFQUN6QixZQUFZO0VBQ1osV0FBVztBQUNiOztBQUVBO0VBQ0UscUJBQXFCO0VBQ3JCLGlDQUFpQztFQUNqQyxlQUFlO0VBQ2YsaUJBQWlCO0VBQ2pCLHlCQUF5QjtFQUN6QixpQkFBaUI7RUFDakIsbUJBQW1CO0VBQ25CLGtCQUFrQjtFQUNsQixTQUFTO0VBQ1QsVUFBVTtBQUNaOztBQUVBO0VBQ0UscUJBQXFCO0VBQ3JCLGVBQWU7RUFDZixpQkFBaUI7RUFDakIsWUFBWTtFQUNaLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLGVBQWU7RUFDZixjQUFjO0VBQ2Qsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsWUFBWTtFQUNaLHFCQUFxQjtFQUNyQixXQUFXO0VBQ1gsWUFBWTtFQUNaLGtDQUFrQztBQUNwQzs7QUFFQTtFQUNFLGNBQWM7RUFDZCxZQUFZO0VBQ1osV0FBVztFQUNYLGtCQUFrQjtFQUNsQixjQUFjO0VBQ2QsZUFBZTtFQUNmLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsZ0JBQWdCO0FBQ2xCIiwiZmlsZSI6InNyYy9hcHAvY2FyZC9jYXJkLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucHJvZmlsZS1jb250YWluZXIge1xyXG4gIGZvbnQtZmFtaWx5OiAnUm9ib3RvJywgc2Fucy1zZXJpZjtcclxufVxyXG5cclxuLnByb2ZpbGUtY29udGFpbmVyIGgxIHtcclxuICBmb250LXNpemU6IDI0cHg7XHJcbiAgY29sb3I6ICM3QzU1RkI7XHJcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgbGluZS1oZWlnaHQ6IDMycHg7XHJcbiAgbGV0dGVyLXNwYWNpbmc6IDEuMnB4O1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBtYXJnaW4tdG9wOiA4MnB4O1xyXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XHJcbn1cclxuXHJcbi5wcm9maWxlLWZpZWxkcy1jb250YWluZXIge1xyXG4gIG1heC13aWR0aDogNzQwcHg7XHJcbiAgbWluLWhlaWdodDogNTAwcHg7XHJcbiAgbWFyZ2luOiAwIGF1dG87XHJcbiAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxuICBib3gtc2hhZG93OiAjY2NjIDFweCAxcHggNHB4O1xyXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG5cclxuLnByb2ZpbGUtZmllbGRzLWNvbnRhaW5lciAucHJvZmlsZS1pbWFnZS1jb250YWluZXIge1xyXG4gIGhlaWdodDogMjAwcHg7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlciAhaW1wb3J0YW50O1xyXG4gIGJhY2tncm91bmQ6IHVybCgnL2Fzc2V0cy9pbWFnZXMvU29saWRfUGF0dGVybi5wbmcnKTtcclxufVxyXG5cclxuLnByb2ZpbGUtZmllbGRzLWNvbnRhaW5lciAucHJvZmlsZS1pbWFnZS1jb250YWluZXIgaW1nIHtcclxuICBoZWlnaHQ6IDEyOHB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICBtYXJnaW4tbGVmdDogYXV0bztcclxuICBtYXJnaW4tcmlnaHQ6YXV0bztcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgdG9wOjQwcHg7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbn1cclxuXHJcbi5wcm9maWxlLWZpZWxkcy1jb250YWluZXIgaSB7XHJcbiAgZm9udC1zaXplOiAxNHB4O1xyXG4gIGNvbG9yOiAjODk5NjlGO1xyXG4gIHBhZGRpbmctbGVmdDogMjZweDtcclxuICBwYWRkaW5nLXJpZ2h0OiAxMHB4O1xyXG4gIG1hcmdpbi10b3A6IDI0cHg7XHJcbn1cclxuXHJcbi5wcm9maWxlLWZpZWxkcy1jb250YWluZXIgaW5wdXRbdHlwZT10ZXh0XS5maWVsZC10ZXh0IHtcclxuICBoZWlnaHQ6IDEycHg7XHJcbiAgd2lkdGg6IDI4MHB4O1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICM4OTk2OUY7XHJcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gIHBhZGRpbmc6IDEwcHg7XHJcbn1cclxuXHJcbi5wcm9maWxlLWZpZWxkcy1jb250YWluZXIgaW5wdXRbdHlwZT10ZXh0XS5maWVsZC10ZXh0OjpwbGFjZWhvbGRlciB7XHJcbiAgY29sb3I6IHJnYmEoMTAyLDEwMiwxMDIsMC4yKTtcclxufVxyXG5cclxuLnByb2ZpbGUtc2F2ZS1idXR0b24tY29udGFpbmVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgbWFyZ2luLWJvdHRvbTogYXV0bztcclxuICBoZWlnaHQ6IDEwMHB4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxufVxyXG5cclxuLnByb2ZpbGUtc2F2ZS1idXR0b24ge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICM3QzU1RkI7XHJcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XHJcbiAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xyXG4gIHdpZHRoOiAyODBweDtcclxufVxyXG5cclxuLnByb2ZpbGUtc2F2ZS1idXR0b246ZGlzYWJsZWQge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNGMEVFRUI7XHJcbiAgYm9yZGVyLWNvbG9yOiAjRjBFRUVCO1xyXG4gIGN1cnNvcjogbm90LWFsbG93ZWQ7XHJcbn1cclxuXHJcbi50b3BuYXYge1xyXG4gIHBvc2l0aW9uOmFic29sdXRlO1xyXG4gIHRvcDowO1xyXG4gIGxlZnQ6MDtcclxuICB3aWR0aDogMTAwJTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjN0M0REZGO1xyXG4gIGhlaWdodDogNTBweDtcclxuICBjb2xvcjogI2ZmZjtcclxufVxyXG5cclxuLnRvcG5hdiAubG9nbyB7XHJcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gIGZvbnQtZmFtaWx5OiAnUm9ib3RvIFNsYWInLCBzZXJpZjtcclxuICBmb250LXNpemU6IDI0cHg7XHJcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcclxuICBsaW5lLWhlaWdodDogMzJweDtcclxuICBwYWRkaW5nLXJpZ2h0OiA4MHB4O1xyXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICB0b3A6IC04cHg7XHJcbiAgbGVmdDogMjhweDtcclxufVxyXG5cclxuLnRvcG5hdiAubWVudS1pdGVtIHtcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgZm9udC1zaXplOiAxMHB4O1xyXG4gIGxpbmUtaGVpZ2h0OiAxM3B4O1xyXG4gIHdpZHRoOiAxMDBweDtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG5cclxuLnRvcG5hdiAubWVudS1pdGVtIGkge1xyXG4gIGZvbnQtc2l6ZTogMjRweDtcclxuICBtYXJnaW4tdG9wOjhweDtcclxuICBtYXJnaW4tYm90dG9tOiAycHg7XHJcbn1cclxuXHJcbi50b3BuYXYgLnByb2ZpbGUtbWVudSB7XHJcbiAgZmxvYXQ6IHJpZ2h0O1xyXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICB3aWR0aDogNTBweDtcclxuICBoZWlnaHQ6IDUwcHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwwLjI1KTtcclxufVxyXG5cclxuLnRvcG5hdiAucHJvZmlsZS1tZW51IGltZyB7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbiAgaGVpZ2h0OiAzMHB4O1xyXG4gIHdpZHRoOiAzMHB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICBtYXJnaW46IDAgYXV0bztcclxuICBtYXJnaW4tdG9wOjEwcHg7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG4ubG9hZGluZy1pbWFnZSB7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIG1hcmdpbi10b3A6IDUwcHg7XHJcbn1cclxuIl19 */\"","module.exports = \"<div class=\\\"profile-container\\\">\\r\\n  <!-- EXAMPLE TOP NAV -->\\r\\n  <div class=\\\"topnav\\\">\\r\\n    <div class=\\\"logo\\\">Solid</div>\\r\\n    <div class=\\\"menu-item\\\">\\r\\n      <div>\\r\\n        <i class=\\\"far fa-compass\\\"></i>\\r\\n      </div>\\r\\n      Explore\\r\\n    </div>\\r\\n    <div class=\\\"menu-item\\\" (click)=\\\"loadChat()\\\">\\r\\n      <div>\\r\\n        <i class=\\\"far fa-comment\\\"></i>\\r\\n      </div>\\r\\n      Chat\\r\\n    </div>\\r\\n    <div class=\\\"menu-item\\\">\\r\\n      <div>\\r\\n        <i class=\\\"fas fa-sliders-h\\\"></i>\\r\\n      </div>\\r\\n      Settings\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"profile-menu\\\" (click)=\\\"logout()\\\">\\r\\n      <img [src]=\\\"profileImage\\\" />\\r\\n    </div>\\r\\n  </div>\\r\\n  <h1>Profile</h1>\\r\\n\\r\\n  <!-- LOADING IMAGE -->\\r\\n  <div class=\\\"loading-image\\\" *ngIf=\\\"loadingProfile\\\">\\r\\n    <i class=\\\"fas fa-circle-notch fa-4x fa-spin\\\"></i>\\r\\n  </div>\\r\\n\\r\\n  <!-- MAIN PROFILE -->\\r\\n  <div class=\\\"profile-fields-container\\\" *ngIf=\\\"!loadingProfile\\\">\\r\\n    <div class=\\\"profile-image-container\\\">\\r\\n      <img [src]=\\\"profileImage\\\" />\\r\\n    </div>\\r\\n    <form style=\\\"padding-top: 26px;\\\" #f=\\\"ngForm\\\" (submit)=\\\"onSubmit()\\\">\\r\\n      <div class=\\\"fields pure-g\\\">\\r\\n        <!-- NAME -->\\r\\n        <div class=\\\"pure-u-1-1 pure-u-md-1-2 form-group\\\">\\r\\n          <i class=\\\"fas fa-user\\\"></i> <input type=\\\"text\\\" class=\\\"field-text form-control\\\" name=\\\"fn\\\" placeholder=\\\"NAME\\\" [(ngModel)]=\\\"profile.fn\\\" />\\r\\n        </div>\\r\\n\\r\\n        <!-- PHONE -->\\r\\n        <div class=\\\"pure-u-1-1 pure-u-md-1-2 form-group\\\">\\r\\n          <i class=\\\"fas fa-phone\\\"></i><input type=\\\"text\\\" class=\\\"field-text form-control\\\" name=\\\"phone\\\" placeholder=\\\"PHONE\\\" [(ngModel)]=\\\"profile.phone\\\" />\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"fields pure-g\\\">\\r\\n        <!-- ROLE -->\\r\\n        <div class=\\\"pure-u-1-1 pure-u-md-1-2 form-group\\\">\\r\\n          <i class=\\\"fas fa-user-astronaut\\\"></i> <input type=\\\"text\\\" class=\\\"field-text form-control\\\" name=\\\"role\\\" placeholder=\\\"ROLE\\\" [(ngModel)]=\\\"profile.role\\\" />\\r\\n        </div>\\r\\n\\r\\n        <!-- EMAIL -->\\r\\n        <div class=\\\"pure-u-1-1 pure-u-md-1-2 form-group\\\">\\r\\n          <i class=\\\"fas fa-envelope\\\"></i><input type=\\\"text\\\" class=\\\"field-text form-control\\\" name=\\\"email\\\" placeholder=\\\"EMAIL\\\" [(ngModel)]=\\\"profile.email\\\" />\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"fields pure-g\\\">\\r\\n        <!-- ORGANIZATION -->\\r\\n        <div class=\\\"pure-u-1-1 pure-u-md-1-2 form-group\\\">\\r\\n          <i class=\\\"fas fa-building\\\"></i> <input type=\\\"text\\\" class=\\\"field-text form-control\\\" name=\\\"company\\\" placeholder=\\\"ORGANIZATION\\\" [(ngModel)]=\\\"profile.company\\\" />\\r\\n        </div>\\r\\n\\r\\n        <!-- ADDRESS -->\\r\\n        <div class=\\\"pure-u-1-1 pure-u-md-1-2 form-group\\\">\\r\\n          <i class=\\\"fas fa-map-marker-alt\\\" style=\\\"width: 12px; margin-left: 2px;\\\"></i><input type=\\\"text\\\" class=\\\"field-text form-control\\\" name=\\\"address\\\" placeholder=\\\"ADDRESS\\\" [(ngModel)]=\\\"profile.address.street\\\" />\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"profile-save-button-container\\\">\\r\\n        <button type=\\\"submit\\\" class=\\\"wide-button profile-save-button\\\" [disabled]=\\\"!cardForm || cardForm.pristine\\\">Save</button>\\r\\n      </div>\\r\\n    </form>\\r\\n  </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { NgForm } from '@angular/forms';\r\nimport { SolidProfile } from '../models/solid-profile.model';\r\nimport { RdfService } from '../services/rdf.service';\r\nimport { AuthService } from '../services/solid.auth.service';\r\nimport { ChatComponent } from '../chat/chat.component';\r\n\r\n\r\n@Component({\r\n  selector: 'app-card',\r\n  templateUrl: './card.component.html',\r\n  styleUrls: ['./card.component.css'],\r\n})\r\nexport class CardComponent implements OnInit  {\r\n\r\n  profile: SolidProfile;\r\n  profileImage: string;\r\n  loadingProfile: Boolean;\r\n  amigos: Array<any>;\r\n  chatComponent: ChatComponent;\r\n\r\n  @ViewChild('f') cardForm: NgForm;\r\n\r\n  constructor(private rdf: RdfService,\r\n    private route: ActivatedRoute, private auth: AuthService, private router: Router) {}\r\n\r\n  ngOnInit() {\r\n    this.loadingProfile = true;\r\n    this.loadProfile();\r\n\r\n    // Clear cached profile data\r\n    // TODO: Remove this code and find a better way to get the old data\r\n    localStorage.removeItem('oldProfileData');\r\n  }\r\n\r\n  // Loads the profile from the rdf service and handles the response\r\n  async loadProfile() {\r\n    try {\r\n      this.loadingProfile = true;\r\n      const profile = await this.rdf.getProfile();\r\n      if (profile) {\r\n        this.profile = profile;\r\n        this.auth.saveOldUserData(profile);\r\n      }\r\n\r\n      this.loadingProfile = false;\r\n      this.setupProfileData();\r\n    } catch (error) {\r\n      console.log(`Error: ${error}`);\r\n    }\r\n\r\n  }\r\n\r\n  // Loads Solid chat from chat package\r\n  async loadChat() {\r\n    try {\r\n      this.router.navigateByUrl('/chat');\r\n    }\r\n    catch (err){\r\n      console.log(`Error: ${err}`);\r\n    }\r\n  }\r\n\r\n  async loadFriends() {\r\n    try {\r\n      const list_friends = await this.rdf.getFriends();\r\n      if(list_friends)\r\n        this.amigos = list_friends;\r\n    }catch (error) {\r\n      console.log(`Error: ${error}`);\r\n    }\r\n  }\r\n\r\n  // Submits the form, and saves the profile data using the auth/rdf service\r\n  async onSubmit () {\r\n    if (!this.cardForm.invalid) {\r\n      try {\r\n        await this.rdf.updateProfile(this.cardForm);\r\n        localStorage.setItem('oldProfileData', JSON.stringify(this.profile));\r\n      } catch (err) {\r\n        console.log(`Error: ${err}`);\r\n      }\r\n    }\r\n  }\r\n\r\n  // Format data coming back from server. Intended purpose is to replace profile image with default if it's missing\r\n  // and potentially format the address if we need to reformat it for this UI\r\n  private setupProfileData() {\r\n    if (this.profile) {\r\n      this.profileImage = this.profile.image ? this.profile.image : '/assets/images/profile.png';\r\n    } else {\r\n      this.profileImage = '/assets/images/profile.png';\r\n    }\r\n  }\r\n\r\n  // Example of logout functionality. Normally wouldn't be triggered by clicking the profile picture.\r\n  logout() {\r\n    this.auth.solidSignOut();\r\n    //deberia abrir un menu contextual con una opcin de desconectar\r\n  }\r\n}\r\n","module.exports = \"\\r\\nh2[id=\\\"DeChatTitle\\\"] {\\r\\n  font-family: 'Roboto Slab', serif;\\r\\n  font-size: 24px;\\r\\n  font-weight: bold;\\r\\n  text-transform: uppercase;\\r\\n  margin-top: 10px; \\r\\n  color: #7C4DFF;\\r\\n}\\r\\n.container{max-width:92%; height: 90vh; margin:auto;}\\r\\nimg { \\r\\n  max-width:100%;\\r\\n  border-radius: 150px;\\r\\n}\\r\\n.inbox_people {\\r\\n  background: #f8f8f8 none repeat scroll 0 0;\\r\\n  overflow: hidden;\\r\\n  width: 35%; \\r\\n  border-right:1px solid #c4c4c4;\\r\\n}\\r\\n.inbox_people, .mesgs {\\r\\n  height: 100%;\\r\\n  float: left;\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  justify-content: center;\\r\\n}\\r\\n.inbox_msg {\\r\\n  border: 1px solid #c4c4c4;\\r\\n  clear: both;\\r\\n  overflow: hidden;\\r\\n  height: 100%;\\r\\n}\\r\\n.top_spac{ margin: 20px 0 0;}\\r\\n.recent_heading {\\r\\n  float: left;\\r\\n  width:40%;\\r\\n}\\r\\n.srch_bar {\\r\\n  display: inline-block;\\r\\n  text-align: right;\\r\\n  width: 60%;\\r\\n}\\r\\n.headind_srch{ \\r\\n  padding:10px 29px 10px 20px; overflow:hidden; border-bottom:1px solid #c4c4c4;\\r\\n  min-height: 50px;\\r\\n  height: 6%;\\r\\n}\\r\\n.recent_heading h4 {\\r\\n  color: #7C4DFF;\\r\\n  font-family: 'Roboto Slab', serif;\\r\\n  font-size: 21px;\\r\\n  font-weight: bold;\\r\\n  text-transform: uppercase;\\r\\n  margin: auto;\\r\\n}\\r\\n.search-bar:focus { outline:0 !important; }\\r\\n.srch_bar input{ border:1px solid #cdcdcd; border-width:0 0 1px 0; width:80%; padding:2px 0 4px 6px; background:none;}\\r\\n.srch_bar .input-group-addon button {\\r\\n  background: rgba(0, 0, 0, 0) none repeat scroll 0 0;\\r\\n  border: medium none;\\r\\n  padding: 0;\\r\\n  color: #707070;\\r\\n  font-size: 18px;\\r\\n}\\r\\n.srch_bar .input-group-addon { margin: 0 0 0 -27px;}\\r\\n.lens:active { box-shadow: 0px 1px 1px 0px black; }\\r\\n.lens:focus { outline:0 !important; }\\r\\n.chat_ib h5{ font-size:15px; color:#464646; margin:0 0 8px 0;}\\r\\n.chat_ib h5 span{ font-size:13px; float:right;}\\r\\n.chat_ib p{ font-size:14px; color:#989898; margin:auto; overflow: hidden; white-space: nowrap; text-overflow: ellipsis;}\\r\\n.chat_img {\\r\\n  float: left;\\r\\n  width: 11%;\\r\\n}\\r\\n.chat_ib {\\r\\n  float: left;\\r\\n  padding: 0 0 0 15px;\\r\\n  width: 88%;\\r\\n}\\r\\n.chat_people{ overflow:hidden; clear:both; cursor: pointer;}\\r\\n.chat_people:hover{ background-color: rgb(186, 161, 255); }\\r\\n.chat_people:active { box-shadow: 0px 1px 1px 0px black; }\\r\\n.chat_list {\\r\\n  border-bottom: 1px solid #c4c4c4;\\r\\n  margin: 0;\\r\\n  padding: 18px 16px 10px;\\r\\n}\\r\\n.inbox_chat { flex: 1; overflow-y: scroll;}\\r\\n.active_chat{ background:#ebebeb;}\\r\\n.incoming_msg {\\r\\n  margin: 10px 0;\\r\\n}\\r\\n.incoming_msg_img {\\r\\n  display: inline-block;\\r\\n  width: 6%;\\r\\n}\\r\\n.received_msg {\\r\\n  display: inline-block;\\r\\n  padding: 0 0 0 10px;\\r\\n  vertical-align: top;\\r\\n  width: 92%;\\r\\n }\\r\\n.received_withd_msg p {\\r\\n  background: #ebebeb none repeat scroll 0 0;\\r\\n  border-radius: 3px;\\r\\n  color: #646464;\\r\\n  font-size: 14px;\\r\\n  margin: 0;\\r\\n  padding: 5px 10px 5px 12px;\\r\\n  width: 100%;\\r\\n  overflow-wrap: break-word;\\r\\n}\\r\\n.time_date {\\r\\n  color: #747474;\\r\\n  display: block;\\r\\n  font-size: 12px;\\r\\n  margin: 8px 0 0;\\r\\n}\\r\\n.received_withd_msg { width: 57%; }\\r\\n.mesgs {\\r\\n  padding: 30px 15px 0 25px;\\r\\n  width: 65%;\\r\\n}\\r\\n.sent_msg p {\\r\\n  background: #7C4DFF none repeat scroll 0 0;\\r\\n  border-radius: 3px;\\r\\n  font-size: 14px;\\r\\n  margin: 0; color:#fff;\\r\\n  padding: 5px 10px 5px 12px;\\r\\n  width:98%;\\r\\n  height: 100%;\\r\\n  overflow-wrap: break-word;\\r\\n}\\r\\n.outgoing_msg{overflow:hidden; margin: 10px 0;}\\r\\n.sent_msg {\\r\\n  float: right;\\r\\n  width: 46%;\\r\\n}\\r\\n.input_msg_write input {\\r\\n  background: rgba(0, 0, 0, 0) none repeat scroll 0 0;\\r\\n  padding: 2px 0 4px 6px;\\r\\n  border: medium none;\\r\\n  color: #4c4c4c;\\r\\n  font-size: 15px;\\r\\n  min-height: 48px;\\r\\n  width: 100%;\\r\\n}\\r\\n.write_msg:focus { \\r\\n  outline:0 !important; \\r\\n}\\r\\n.type_msg {\\r\\n  border-top: 1px solid #c4c4c4;\\r\\n  position: relative;\\r\\n  min-height: 50px;\\r\\n  height: 7%;\\r\\n}\\r\\n.msg_send_btn {\\r\\n  background: #7C4DFF none repeat scroll 0 0;\\r\\n  border: medium none;\\r\\n  border-radius: 50%;\\r\\n  color: #fff;\\r\\n  cursor: pointer;\\r\\n  font-size: 17px;\\r\\n  height: 33px;\\r\\n  position: absolute;\\r\\n  right: 0;\\r\\n  top: 11px;\\r\\n  width: 33px;\\r\\n}\\r\\n.msg_send_btn:focus { \\r\\n  outline:0 !important; \\r\\n}\\r\\n.msg_send_btn:hover {\\r\\n\\tbackground-color: rgb(67, 41, 138);\\r\\n}\\r\\n.msg_send_btn:active {\\r\\n  box-shadow: 0px 1px 1px 0px black;\\r\\n}\\r\\n.messaging { \\r\\n  padding: 0 0 50px 0;\\r\\n  height: 100%;\\r\\n}\\r\\n.msg_history {\\r\\n  height: 100%;\\r\\n  flex: 1;\\r\\n  overflow-y: auto;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY2hhdC9jaGF0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBO0VBQ0UsaUNBQWlDO0VBQ2pDLGVBQWU7RUFDZixpQkFBaUI7RUFDakIseUJBQXlCO0VBQ3pCLGdCQUFnQjtFQUNoQixjQUFjO0FBQ2hCO0FBQ0EsV0FBVyxhQUFhLEVBQUUsWUFBWSxFQUFFLFdBQVcsQ0FBQztBQUNwRDtFQUNFLGNBQWM7RUFDZCxvQkFBb0I7QUFDdEI7QUFDQTtFQUNFLDBDQUEwQztFQUMxQyxnQkFBZ0I7RUFDaEIsVUFBVTtFQUNWLDhCQUE4QjtBQUNoQztBQUNBO0VBQ0UsWUFBWTtFQUNaLFdBQVc7RUFDWCxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLHVCQUF1QjtBQUN6QjtBQUNBO0VBQ0UseUJBQXlCO0VBQ3pCLFdBQVc7RUFDWCxnQkFBZ0I7RUFDaEIsWUFBWTtBQUNkO0FBQ0EsV0FBVyxnQkFBZ0IsQ0FBQztBQUM1QjtFQUNFLFdBQVc7RUFDWCxTQUFTO0FBQ1g7QUFDQTtFQUNFLHFCQUFxQjtFQUNyQixpQkFBaUI7RUFDakIsVUFBVTtBQUNaO0FBQ0E7RUFDRSwyQkFBMkIsRUFBRSxlQUFlLEVBQUUsK0JBQStCO0VBQzdFLGdCQUFnQjtFQUNoQixVQUFVO0FBQ1o7QUFDQTtFQUNFLGNBQWM7RUFDZCxpQ0FBaUM7RUFDakMsZUFBZTtFQUNmLGlCQUFpQjtFQUNqQix5QkFBeUI7RUFDekIsWUFBWTtBQUNkO0FBQ0Esb0JBQW9CLG9CQUFvQixFQUFFO0FBQzFDLGlCQUFpQix3QkFBd0IsRUFBRSxzQkFBc0IsRUFBRSxTQUFTLEVBQUUscUJBQXFCLEVBQUUsZUFBZSxDQUFDO0FBQ3JIO0VBQ0UsbURBQW1EO0VBQ25ELG1CQUFtQjtFQUNuQixVQUFVO0VBQ1YsY0FBYztFQUNkLGVBQWU7QUFDakI7QUFDQSwrQkFBK0IsbUJBQW1CLENBQUM7QUFDbkQsZUFBZSxpQ0FBaUMsRUFBRTtBQUNsRCxjQUFjLG9CQUFvQixFQUFFO0FBRXBDLGFBQWEsY0FBYyxFQUFFLGFBQWEsRUFBRSxnQkFBZ0IsQ0FBQztBQUM3RCxrQkFBa0IsY0FBYyxFQUFFLFdBQVcsQ0FBQztBQUM5QyxZQUFZLGNBQWMsRUFBRSxhQUFhLEVBQUUsV0FBVyxFQUFFLGdCQUFnQixFQUFFLG1CQUFtQixFQUFFLHVCQUF1QixDQUFDO0FBQ3ZIO0VBQ0UsV0FBVztFQUNYLFVBQVU7QUFDWjtBQUNBO0VBQ0UsV0FBVztFQUNYLG1CQUFtQjtFQUNuQixVQUFVO0FBQ1o7QUFFQSxjQUFjLGVBQWUsRUFBRSxVQUFVLEVBQUUsZUFBZSxDQUFDO0FBQzNELG9CQUFvQixvQ0FBb0MsRUFBRTtBQUMxRCxzQkFBc0IsaUNBQWlDLEVBQUU7QUFDekQ7RUFDRSxnQ0FBZ0M7RUFDaEMsU0FBUztFQUNULHVCQUF1QjtBQUN6QjtBQUNBLGNBQWMsT0FBTyxFQUFFLGtCQUFrQixDQUFDO0FBRTFDLGNBQWMsa0JBQWtCLENBQUM7QUFFakM7RUFDRSxjQUFjO0FBQ2hCO0FBRUE7RUFDRSxxQkFBcUI7RUFDckIsU0FBUztBQUNYO0FBQ0E7RUFDRSxxQkFBcUI7RUFDckIsbUJBQW1CO0VBQ25CLG1CQUFtQjtFQUNuQixVQUFVO0NBQ1g7QUFDQTtFQUNDLDBDQUEwQztFQUMxQyxrQkFBa0I7RUFDbEIsY0FBYztFQUNkLGVBQWU7RUFDZixTQUFTO0VBQ1QsMEJBQTBCO0VBQzFCLFdBQVc7RUFDWCx5QkFBeUI7QUFDM0I7QUFDQTtFQUNFLGNBQWM7RUFDZCxjQUFjO0VBQ2QsZUFBZTtFQUNmLGVBQWU7QUFDakI7QUFDQSxzQkFBc0IsVUFBVSxFQUFFO0FBQ2xDO0VBQ0UseUJBQXlCO0VBQ3pCLFVBQVU7QUFDWjtBQUNDO0VBQ0MsMENBQTBDO0VBQzFDLGtCQUFrQjtFQUNsQixlQUFlO0VBQ2YsU0FBUyxFQUFFLFVBQVU7RUFDckIsMEJBQTBCO0VBQzFCLFNBQVM7RUFDVCxZQUFZO0VBQ1oseUJBQXlCO0FBQzNCO0FBQ0EsY0FBYyxlQUFlLEVBQUUsY0FBYyxDQUFDO0FBQzlDO0VBQ0UsWUFBWTtFQUNaLFVBQVU7QUFDWjtBQUNBO0VBQ0UsbURBQW1EO0VBQ25ELHNCQUFzQjtFQUN0QixtQkFBbUI7RUFDbkIsY0FBYztFQUNkLGVBQWU7RUFDZixnQkFBZ0I7RUFDaEIsV0FBVztBQUNiO0FBQ0E7RUFDRSxvQkFBb0I7QUFDdEI7QUFDQTtFQUNFLDZCQUE2QjtFQUM3QixrQkFBa0I7RUFDbEIsZ0JBQWdCO0VBQ2hCLFVBQVU7QUFDWjtBQUNBO0VBQ0UsMENBQTBDO0VBQzFDLG1CQUFtQjtFQUNuQixrQkFBa0I7RUFDbEIsV0FBVztFQUNYLGVBQWU7RUFDZixlQUFlO0VBQ2YsWUFBWTtFQUNaLGtCQUFrQjtFQUNsQixRQUFRO0VBQ1IsU0FBUztFQUNULFdBQVc7QUFDYjtBQUNBO0VBQ0Usb0JBQW9CO0FBQ3RCO0FBQ0E7Q0FDQyxrQ0FBa0M7QUFDbkM7QUFDQTtFQUNFLGlDQUFpQztBQUNuQztBQUNBO0VBQ0UsbUJBQW1CO0VBQ25CLFlBQVk7QUFDZDtBQUNBO0VBQ0UsWUFBWTtFQUNaLE9BQU87RUFDUCxnQkFBZ0I7QUFDbEIiLCJmaWxlIjoic3JjL2FwcC9jaGF0L2NoYXQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5oMltpZD1cIkRlQ2hhdFRpdGxlXCJdIHtcclxuICBmb250LWZhbWlseTogJ1JvYm90byBTbGFiJywgc2VyaWY7XHJcbiAgZm9udC1zaXplOiAyNHB4O1xyXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XHJcbiAgbWFyZ2luLXRvcDogMTBweDsgXHJcbiAgY29sb3I6ICM3QzRERkY7XHJcbn1cclxuLmNvbnRhaW5lcnttYXgtd2lkdGg6OTIlOyBoZWlnaHQ6IDkwdmg7IG1hcmdpbjphdXRvO31cclxuaW1nIHsgXHJcbiAgbWF4LXdpZHRoOjEwMCU7XHJcbiAgYm9yZGVyLXJhZGl1czogMTUwcHg7XHJcbn1cclxuLmluYm94X3Blb3BsZSB7XHJcbiAgYmFja2dyb3VuZDogI2Y4ZjhmOCBub25lIHJlcGVhdCBzY3JvbGwgMCAwO1xyXG4gIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgd2lkdGg6IDM1JTsgXHJcbiAgYm9yZGVyLXJpZ2h0OjFweCBzb2xpZCAjYzRjNGM0O1xyXG59XHJcbi5pbmJveF9wZW9wbGUsIC5tZXNncyB7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIGZsb2F0OiBsZWZ0O1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG4uaW5ib3hfbXNnIHtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjYzRjNGM0O1xyXG4gIGNsZWFyOiBib3RoO1xyXG4gIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG59XHJcbi50b3Bfc3BhY3sgbWFyZ2luOiAyMHB4IDAgMDt9XHJcbi5yZWNlbnRfaGVhZGluZyB7XHJcbiAgZmxvYXQ6IGxlZnQ7XHJcbiAgd2lkdGg6NDAlO1xyXG59XHJcbi5zcmNoX2JhciB7XHJcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gIHRleHQtYWxpZ246IHJpZ2h0O1xyXG4gIHdpZHRoOiA2MCU7XHJcbn1cclxuLmhlYWRpbmRfc3JjaHsgXHJcbiAgcGFkZGluZzoxMHB4IDI5cHggMTBweCAyMHB4OyBvdmVyZmxvdzpoaWRkZW47IGJvcmRlci1ib3R0b206MXB4IHNvbGlkICNjNGM0YzQ7XHJcbiAgbWluLWhlaWdodDogNTBweDtcclxuICBoZWlnaHQ6IDYlO1xyXG59XHJcbi5yZWNlbnRfaGVhZGluZyBoNCB7XHJcbiAgY29sb3I6ICM3QzRERkY7XHJcbiAgZm9udC1mYW1pbHk6ICdSb2JvdG8gU2xhYicsIHNlcmlmO1xyXG4gIGZvbnQtc2l6ZTogMjFweDtcclxuICBmb250LXdlaWdodDogYm9sZDtcclxuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG4gIG1hcmdpbjogYXV0bztcclxufVxyXG4uc2VhcmNoLWJhcjpmb2N1cyB7IG91dGxpbmU6MCAhaW1wb3J0YW50OyB9XHJcbi5zcmNoX2JhciBpbnB1dHsgYm9yZGVyOjFweCBzb2xpZCAjY2RjZGNkOyBib3JkZXItd2lkdGg6MCAwIDFweCAwOyB3aWR0aDo4MCU7IHBhZGRpbmc6MnB4IDAgNHB4IDZweDsgYmFja2dyb3VuZDpub25lO31cclxuLnNyY2hfYmFyIC5pbnB1dC1ncm91cC1hZGRvbiBidXR0b24ge1xyXG4gIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMCkgbm9uZSByZXBlYXQgc2Nyb2xsIDAgMDtcclxuICBib3JkZXI6IG1lZGl1bSBub25lO1xyXG4gIHBhZGRpbmc6IDA7XHJcbiAgY29sb3I6ICM3MDcwNzA7XHJcbiAgZm9udC1zaXplOiAxOHB4O1xyXG59XHJcbi5zcmNoX2JhciAuaW5wdXQtZ3JvdXAtYWRkb24geyBtYXJnaW46IDAgMCAwIC0yN3B4O31cclxuLmxlbnM6YWN0aXZlIHsgYm94LXNoYWRvdzogMHB4IDFweCAxcHggMHB4IGJsYWNrOyB9XHJcbi5sZW5zOmZvY3VzIHsgb3V0bGluZTowICFpbXBvcnRhbnQ7IH1cclxuXHJcbi5jaGF0X2liIGg1eyBmb250LXNpemU6MTVweDsgY29sb3I6IzQ2NDY0NjsgbWFyZ2luOjAgMCA4cHggMDt9XHJcbi5jaGF0X2liIGg1IHNwYW57IGZvbnQtc2l6ZToxM3B4OyBmbG9hdDpyaWdodDt9XHJcbi5jaGF0X2liIHB7IGZvbnQtc2l6ZToxNHB4OyBjb2xvcjojOTg5ODk4OyBtYXJnaW46YXV0bzsgb3ZlcmZsb3c6IGhpZGRlbjsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7fVxyXG4uY2hhdF9pbWcge1xyXG4gIGZsb2F0OiBsZWZ0O1xyXG4gIHdpZHRoOiAxMSU7XHJcbn1cclxuLmNoYXRfaWIge1xyXG4gIGZsb2F0OiBsZWZ0O1xyXG4gIHBhZGRpbmc6IDAgMCAwIDE1cHg7XHJcbiAgd2lkdGg6IDg4JTtcclxufVxyXG5cclxuLmNoYXRfcGVvcGxleyBvdmVyZmxvdzpoaWRkZW47IGNsZWFyOmJvdGg7IGN1cnNvcjogcG9pbnRlcjt9XHJcbi5jaGF0X3Blb3BsZTpob3ZlcnsgYmFja2dyb3VuZC1jb2xvcjogcmdiKDE4NiwgMTYxLCAyNTUpOyB9XHJcbi5jaGF0X3Blb3BsZTphY3RpdmUgeyBib3gtc2hhZG93OiAwcHggMXB4IDFweCAwcHggYmxhY2s7IH1cclxuLmNoYXRfbGlzdCB7XHJcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNjNGM0YzQ7XHJcbiAgbWFyZ2luOiAwO1xyXG4gIHBhZGRpbmc6IDE4cHggMTZweCAxMHB4O1xyXG59XHJcbi5pbmJveF9jaGF0IHsgZmxleDogMTsgb3ZlcmZsb3cteTogc2Nyb2xsO31cclxuXHJcbi5hY3RpdmVfY2hhdHsgYmFja2dyb3VuZDojZWJlYmViO31cclxuXHJcbi5pbmNvbWluZ19tc2cge1xyXG4gIG1hcmdpbjogMTBweCAwO1xyXG59XHJcblxyXG4uaW5jb21pbmdfbXNnX2ltZyB7XHJcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gIHdpZHRoOiA2JTtcclxufVxyXG4ucmVjZWl2ZWRfbXNnIHtcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgcGFkZGluZzogMCAwIDAgMTBweDtcclxuICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xyXG4gIHdpZHRoOiA5MiU7XHJcbiB9XHJcbiAucmVjZWl2ZWRfd2l0aGRfbXNnIHAge1xyXG4gIGJhY2tncm91bmQ6ICNlYmViZWIgbm9uZSByZXBlYXQgc2Nyb2xsIDAgMDtcclxuICBib3JkZXItcmFkaXVzOiAzcHg7XHJcbiAgY29sb3I6ICM2NDY0NjQ7XHJcbiAgZm9udC1zaXplOiAxNHB4O1xyXG4gIG1hcmdpbjogMDtcclxuICBwYWRkaW5nOiA1cHggMTBweCA1cHggMTJweDtcclxuICB3aWR0aDogMTAwJTtcclxuICBvdmVyZmxvdy13cmFwOiBicmVhay13b3JkO1xyXG59XHJcbi50aW1lX2RhdGUge1xyXG4gIGNvbG9yOiAjNzQ3NDc0O1xyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG4gIGZvbnQtc2l6ZTogMTJweDtcclxuICBtYXJnaW46IDhweCAwIDA7XHJcbn1cclxuLnJlY2VpdmVkX3dpdGhkX21zZyB7IHdpZHRoOiA1NyU7IH1cclxuLm1lc2dzIHtcclxuICBwYWRkaW5nOiAzMHB4IDE1cHggMCAyNXB4O1xyXG4gIHdpZHRoOiA2NSU7XHJcbn1cclxuIC5zZW50X21zZyBwIHtcclxuICBiYWNrZ3JvdW5kOiAjN0M0REZGIG5vbmUgcmVwZWF0IHNjcm9sbCAwIDA7XHJcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xyXG4gIGZvbnQtc2l6ZTogMTRweDtcclxuICBtYXJnaW46IDA7IGNvbG9yOiNmZmY7XHJcbiAgcGFkZGluZzogNXB4IDEwcHggNXB4IDEycHg7XHJcbiAgd2lkdGg6OTglO1xyXG4gIGhlaWdodDogMTAwJTtcclxuICBvdmVyZmxvdy13cmFwOiBicmVhay13b3JkO1xyXG59XHJcbi5vdXRnb2luZ19tc2d7b3ZlcmZsb3c6aGlkZGVuOyBtYXJnaW46IDEwcHggMDt9XHJcbi5zZW50X21zZyB7XHJcbiAgZmxvYXQ6IHJpZ2h0O1xyXG4gIHdpZHRoOiA0NiU7XHJcbn1cclxuLmlucHV0X21zZ193cml0ZSBpbnB1dCB7XHJcbiAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwKSBub25lIHJlcGVhdCBzY3JvbGwgMCAwO1xyXG4gIHBhZGRpbmc6IDJweCAwIDRweCA2cHg7XHJcbiAgYm9yZGVyOiBtZWRpdW0gbm9uZTtcclxuICBjb2xvcjogIzRjNGM0YztcclxuICBmb250LXNpemU6IDE1cHg7XHJcbiAgbWluLWhlaWdodDogNDhweDtcclxuICB3aWR0aDogMTAwJTtcclxufVxyXG4ud3JpdGVfbXNnOmZvY3VzIHsgXHJcbiAgb3V0bGluZTowICFpbXBvcnRhbnQ7IFxyXG59XHJcbi50eXBlX21zZyB7XHJcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNjNGM0YzQ7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIG1pbi1oZWlnaHQ6IDUwcHg7XHJcbiAgaGVpZ2h0OiA3JTtcclxufVxyXG4ubXNnX3NlbmRfYnRuIHtcclxuICBiYWNrZ3JvdW5kOiAjN0M0REZGIG5vbmUgcmVwZWF0IHNjcm9sbCAwIDA7XHJcbiAgYm9yZGVyOiBtZWRpdW0gbm9uZTtcclxuICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgY29sb3I6ICNmZmY7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIGZvbnQtc2l6ZTogMTdweDtcclxuICBoZWlnaHQ6IDMzcHg7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHJpZ2h0OiAwO1xyXG4gIHRvcDogMTFweDtcclxuICB3aWR0aDogMzNweDtcclxufVxyXG4ubXNnX3NlbmRfYnRuOmZvY3VzIHsgXHJcbiAgb3V0bGluZTowICFpbXBvcnRhbnQ7IFxyXG59XHJcbi5tc2dfc2VuZF9idG46aG92ZXIge1xyXG5cdGJhY2tncm91bmQtY29sb3I6IHJnYig2NywgNDEsIDEzOCk7XHJcbn1cclxuLm1zZ19zZW5kX2J0bjphY3RpdmUge1xyXG4gIGJveC1zaGFkb3c6IDBweCAxcHggMXB4IDBweCBibGFjaztcclxufVxyXG4ubWVzc2FnaW5nIHsgXHJcbiAgcGFkZGluZzogMCAwIDUwcHggMDtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuLm1zZ19oaXN0b3J5IHtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbiAgZmxleDogMTtcclxuICBvdmVyZmxvdy15OiBhdXRvO1xyXG59XHJcbiJdfQ== */\"","module.exports = \"<link href=\\\"//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css\\\" rel=\\\"stylesheet\\\" id=\\\"bootstrap-css\\\">\\r\\n<script src=\\\"//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js\\\"></script>\\r\\n<script src=\\\"//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js\\\"></script>\\r\\n\\r\\n<html>\\r\\n<head>\\r\\n  <link href=\\\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css\\\" type=\\\"text/css\\\" rel=\\\"stylesheet\\\"/>\\r\\n</head>\\r\\n<body>\\r\\n<div class=\\\"container\\\">\\r\\n<h2 id=\\\"DeChatTitle\\\" class=\\\" text-center\\\">DeChat</h2>\\r\\n<div class=\\\"messaging\\\">\\r\\n      <div class=\\\"inbox_msg\\\">\\r\\n        <div class=\\\"inbox_people\\\">\\r\\n          <div class=\\\"headind_srch\\\">\\r\\n            <div class=\\\"recent_heading\\\">\\r\\n              <h4>Recent chats</h4>\\r\\n            </div>\\r\\n            <div class=\\\"srch_bar\\\">\\r\\n              <div class=\\\"stylish-input-group\\\">\\r\\n                <input id=input_search type=\\\"search\\\" class=\\\"search-bar\\\" placeholder=\\\"Search\\\" />\\r\\n                <span class=\\\"input-group-addon\\\">\\r\\n                  <button class=lens type=\\\"submit\\\" (click)=search()> <i class=\\\"fa fa-search\\\"></i> </button>\\r\\n                </span> \\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"inbox_chat\\\">\\r\\n            <div class=\\\"chat_list active_chat\\\" *ngFor=\\\"let channel of getChatChannels()\\\">\\r\\n              <div class=\\\"chat_people\\\" (click)=\\\"setSelectedChatChannel(channel)\\\">\\r\\n                <div class=\\\"chat_img\\\">\\r\\n                  <!-- <img src=\\\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRIp3zzC4sZwW3OvXpOKxw2_dH3Zn0oNdxGz60tIDFNeEkjKcA8\\\" alt=\\\"sunil\\\"> </div> -->\\r\\n                  <img [src]=\\\"imagesChannels[channel.id]\\\" alt=\\\"sunil\\\"> \\r\\n                </div>\\r\\n                <div class=\\\"chat_ib\\\">\\r\\n                  <h5 *ngIf=\\\"!getLastMessage(channel)\\\"> {{ channel.title }} <span class=\\\"chat_date\\\"></span></h5>\\r\\n                  <h5 *ngIf=\\\"getLastMessage(channel)\\\"> {{ channel.title }} <span class=\\\"chat_date\\\">{{ getLastMessage(channel).sendTime | date:'LLL d' }}</span></h5>\\r\\n                  <p> {{ getLastMessageText(channel) }} </p>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"type_msg\\\">\\r\\n            <div class=\\\"input_msg_write\\\">\\r\\n              <input type=\\\"text\\\" class=\\\"write_msg\\\" id =\\\"input_add_webid\\\" placeholder=\\\"Type a friend's webid\\\" />\\r\\n              <button class=\\\"msg_send_btn\\\" type=\\\"button\\\" (click)=\\\"addNewChatChannel()\\\"><i class=\\\"fa fa-user-plus\\\" aria-hidden=\\\"true\\\"></i></button>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"mesgs\\\">\\r\\n          <div class=\\\"msg_history\\\" #scrollMe [scrollTop]=\\\"scrollMe.scrollHeight\\\">\\r\\n            <div *ngFor=\\\"let msg of getMessagesSelectedChatChannel()\\\">\\r\\n\\r\\n              <div class=\\\"incoming_msg\\\" *ngIf=\\\"msg.makerWebId != getChatService().webid\\\">\\r\\n                <div class=\\\"incoming_msg_img\\\"> \\r\\n                  <!-- <img src=\\\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRIp3zzC4sZwW3OvXpOKxw2_dH3Zn0oNdxGz60tIDFNeEkjKcA8\\\" alt=\\\"sunil\\\"> </div> -->\\r\\n                  <img [src]=\\\"imagesParticipants[msg.makerWebId]\\\" alt=\\\"sunil\\\"> </div>\\r\\n                <div class=\\\"received_msg\\\">\\r\\n                  <div class=\\\"received_withd_msg\\\">\\r\\n                    <p>{{ msg.message }}</p>\\r\\n                    <span class=\\\"time_date\\\">{{ msg.sendTime | date:'h:mm a z' }}</span></div>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"outgoing_msg\\\" *ngIf=\\\"msg.makerWebId == getChatService().webid\\\">\\r\\n                <div class=\\\"sent_msg\\\" >\\r\\n                  <p>{{ msg.message }}</p>\\r\\n                  <span class=\\\"time_date\\\">{{ msg.sendTime | date:'h:mm a z' }}</span> </div>\\r\\n              </div>\\r\\n\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"type_msg\\\">\\r\\n            <div class=\\\"input_msg_write\\\">\\r\\n              <input type=\\\"text\\\" class=\\\"write_msg\\\" id =\\\"input_text\\\" placeholder=\\\"Type a message\\\" #msgInput (keydown.enter)=\\\"sendMessage();emptyText();\\\"/>\\r\\n              <button class=\\\"msg_send_btn\\\" (click)=\\\"sendMessage()\\\" (click)=\\\"emptyText()\\\" type=\\\"button\\\"><i class=\\\"fa fa-paper-plane-o\\\" aria-hidden=\\\"true\\\"></i></button>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</body>\\r\\n</html>\\r\\n\"","import {Component, getModuleFactory, OnInit, ViewChild} from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport {NgForm } from '@angular/forms';\r\nimport {SolidProfile} from '../models/solid-profile.model';\r\nimport { RdfService } from '../services/rdf.service';\r\nimport { ChatService } from '../services/chat.service';\r\nimport { AuthService } from '../services/solid.auth.service';\r\n\r\nimport { ChatChannel } from '../models/chat-channel.model';\r\nimport { Message } from '../models/message.model';\r\nimport { templateJitUrl } from '@angular/compiler';\r\nimport { stringify } from 'querystring';\r\n\r\n@Component({\r\n  selector: 'app-chat',\r\n  templateUrl: './chat.component.html',\r\n  styleUrls: ['./chat.component.css']\r\n})\r\nexport class ChatComponent implements OnInit {\r\n\r\n  defaultImage = \"assets/images/default.jpg\";\r\n\r\n  selectedChatChannel: ChatChannel;\r\n  imagesChannels = {};\r\n  imagesParticipants = {};\r\n  \r\n\r\n  constructor(private rdf: RdfService, private route: ActivatedRoute, \r\n              private auth: AuthService, private chatService: ChatService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n      this.init();\r\n  }\r\n  \r\n  async init() {\r\n    await this.chatService.startChat();\r\n    await this.setupImages();\r\n  }\r\n\r\n  getChatService() {\r\n    return this.chatService;\r\n  }\r\n\r\n  messageTime(msg: Message): string {\r\n    let messageTime = msg.sendTime;\r\n    let h = messageTime.getHours();\r\n    let m = messageTime.getMinutes();\r\n    let s = messageTime.getSeconds();\r\n    return h + \":\" + m + \":\" + s;\r\n  }\r\n  \r\n  async sendMessage() {\r\n    const inputElement: HTMLInputElement = document.getElementById('input_text') as HTMLInputElement;\r\n    const msg: string = inputElement.value;\r\n    this.chatService.sendMessage(this.selectedChatChannel, msg);\r\n  }\r\n\r\n  async emptyText() {\r\n    let inputElement: HTMLInputElement = document.getElementById('input_text') as HTMLInputElement;\r\n    let msg: string = inputElement.value;\r\n    msg = \"\";\r\n    inputElement.value = msg;\r\n  }\r\n\r\n  setSelectedChatChannel(selectedChatChannel: ChatChannel){\r\n    this.selectedChatChannel = selectedChatChannel;\r\n  }\r\n\r\n  getMessagesSelectedChatChannel() {\r\n    return (this.selectedChatChannel == undefined)? new Array() : this.selectedChatChannel.messages;\r\n    \r\n  }\r\n\r\n  getLastMessage(channel: ChatChannel): Message {\r\n    return (channel.messages[channel.messages.length-1] != undefined)? (channel.messages[channel.messages.length-1]) : null;\r\n  }\r\n\r\n  getLastMessageText(channel: ChatChannel): string {\r\n    return (this.getLastMessage(channel) != null)? this.getLastMessage(channel).message : \"\";\r\n  }\r\n\r\n  /* getDayAndMonthLastMessage(channel: ChatChannel) {\r\n    let months = [\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sept\",\"Oct\",\"Nov\",\"Dec\"];\r\n    return (this.getLastMessage(channel) != null)? months[new Date(this.getLastMessage(channel).sendTime).getUTCMonth()]\r\n      + \" \" + (new Date(this.getLastMessage(channel).sendTime).getUTCDay()+1) : \"\";\r\n  } */\r\n\r\n  getChatChannels(): ChatChannel[] {\r\n    return this.chatService.chatChannels;\r\n  }\r\n\r\n  async addNewChatChannel() {\r\n    const inputElement: HTMLInputElement = document.getElementById('input_add_webid') as HTMLInputElement;\r\n    const webid: string = inputElement.value;\r\n    if (webid.length > 0) {\r\n      let channel = await this.chatService.createNewChatChannel(webid);\r\n\r\n      // Cargamos la imagen del nuevo canal\r\n      this.addImageToImages(channel);\r\n    }\r\n  }\r\n  \r\n  search() {\r\n    const inputElement: HTMLInputElement = document.getElementById('input_search') as HTMLInputElement;\r\n    const name: string = inputElement.value;\r\n\r\n    var newChatChannels: ChatChannel[] = new Array();\r\n    for (let channel of this.chatService.chatChannels) {\r\n      if ( channel.participants[0].toLowerCase() === name.toLowerCase()  || channel.participants[0].includes(name) )\r\n        newChatChannels.push(channel);\r\n    }\r\n    this.chatService.setChatChannels(newChatChannels);\r\n  }\r\n\r\n  // Mtodo que carga las imgenes de los canales al inicio y las guarda en un HashMap\r\n  async setupImages() {\r\n    for (const channel of this.chatService.chatChannels) {\r\n      this.addImageToImages(channel);\r\n    }\r\n  }\r\n\r\n  // Mtodo auxiliar para aadir las imgenes a los HashMap \"imagesChannels\" e \"imagesParticipants\"\r\n  async addImageToImages(channel: ChatChannel) {\r\n    if (channel.participants[0]) {\r\n      let imageChannelURL = await this.rdf.getVCardImage(channel.participants[0]);\r\n      this.imagesChannels[channel.id] = (imageChannelURL.length > 0) ? imageChannelURL : this.defaultImage;\r\n\r\n      // Recorremos los participantes y aadimos sus imgenes a \"imagesParticipants\"\r\n      for (const participant of channel.participants) {\r\n        let imageParticipantURL = await this.rdf.getVCardImage(participant);\r\n        this.imagesParticipants[participant] = (imageParticipantURL.length > 0) ? imageParticipantURL : this.defaultImage;\r\n      }\r\n    }\r\n  }\r\n\r\n}","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Rhc2hib2FyZC9kYXNoYm9hcmQuY29tcG9uZW50LmNzcyJ9 */\"","module.exports = \"<div class=\\\"dashboard\\\">\\r\\n  <p>Your webId is {{ session.webId }}</p>\\r\\n  <ul>\\r\\n    <li><a [routerLink]=\\\"['/card']\\\">Profile</a></li>\\r\\n    <li><a (click)=\\\"onSignOut()\\\">Signout</a></li>\\r\\n  </ul>\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\n// import { currentSession } from 'solid-auth-client';\r\n\r\n// Services\r\nimport { AuthService } from '../services/solid.auth.service';\r\n\r\nclass Session {\r\n  constructor() {}\r\n\r\n  webId: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-dashboard',\r\n  templateUrl: './dashboard.component.html',\r\n  styleUrls: ['./dashboard.component.css']\r\n})\r\nexport class DashboardComponent implements OnInit {\r\n  session: Session = new Session();\r\n\r\n  constructor(private auth: AuthService, private route: ActivatedRoute) {}\r\n\r\n  ngOnInit() {\r\n    console.log('hello');\r\n    this.loadSession();\r\n  }\r\n\r\n  loadSession = async () => {\r\n    // this.session = await currentSession();\r\n  }\r\n\r\n  onSignOut = () => {\r\n    this.auth.solidSignOut();\r\n  }\r\n\r\n}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xvZ2luLXBvcHVwL2xvZ2luLXBvcHVwLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<div id=\\\"app-container\\\">Loading...</div>\\r\\n\\r\\n\\r\\n\"","import { Component, OnInit, ElementRef } from '@angular/core';\r\ndeclare let popup: any;\r\n\r\n@Component({\r\n  selector: 'app-login-popup',\r\n  templateUrl: './login-popup.component.html',\r\n  styleUrls: ['./login-popup.component.css']\r\n})\r\nexport class LoginPopupComponent implements OnInit {\r\n\r\n  constructor(private elementRef: ElementRef) {}\r\n\r\n  ngOnInit() {\r\n    this.runScript();\r\n  }\r\n\r\n  runScript () {\r\n    const s = document.createElement('script');\r\n    s.type = 'text/javascript';\r\n    s.src = '/assets/js/libs/popup.js';\r\n    this.elementRef.nativeElement.appendChild(s);\r\n    // s.onload = () => this.triggerDuo();\r\n  }\r\n\r\n}\r\n","module.exports = \"\\r\\n.login-page {\\r\\n  text-align: center;\\r\\n  font-family: 'Roboto', sans-serif;\\r\\n  color: #666;\\r\\n}\\r\\n\\r\\n.login-page h1 {\\r\\n  font-size: 38px;\\r\\n  text-transform: uppercase;\\r\\n  font-weight: bold;\\r\\n  line-height: 50px;\\r\\n  letter-spacing: 1.9px;\\r\\n  padding-top: 12px;\\r\\n  margin-top: 0px;\\r\\n}\\r\\n\\r\\n.login-page h2 {\\r\\n  color: #666;\\r\\n\\r\\n  font-size: 16px;\\r\\n  font-weight: 500;\\r\\n  letter-spacing: 1px;\\r\\n  line-height: 21px;\\r\\n  margin-top: 48px;\\r\\n}\\r\\n\\r\\n.login-page .small-link {\\r\\n  font-size: 12px;\\r\\n  color: #666;\\r\\n  letter-spacing: 0.75px;\\r\\n  line-height: 16px;\\r\\n}\\r\\n\\r\\n.login-page .registration-link {\\r\\n  margin-top: 38px;\\r\\n}\\r\\n\\r\\n.login-page .registration-link p {\\r\\n  font-size: 16px;\\r\\n  color: #666;\\r\\n  letter-spacing: 1px;\\r\\n}\\r\\n\\r\\n.login-page .item-divider {\\r\\n  box-sizing:border-box;\\r\\n  height: 1px;\\r\\n  width: 354px;\\r\\n  border-bottom: 1px solid #E0E0E0;\\r\\n  position: absolute;\\r\\n  bottom:-8px; left:-9px;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0E7RUFDRSxrQkFBa0I7RUFDbEIsaUNBQWlDO0VBQ2pDLFdBQVc7QUFDYjs7QUFFQTtFQUNFLGVBQWU7RUFDZix5QkFBeUI7RUFDekIsaUJBQWlCO0VBQ2pCLGlCQUFpQjtFQUNqQixxQkFBcUI7RUFDckIsaUJBQWlCO0VBQ2pCLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxXQUFXOztFQUVYLGVBQWU7RUFDZixnQkFBZ0I7RUFDaEIsbUJBQW1CO0VBQ25CLGlCQUFpQjtFQUNqQixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsV0FBVztFQUNYLHNCQUFzQjtFQUN0QixpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsV0FBVztFQUNYLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLHFCQUFxQjtFQUNyQixXQUFXO0VBQ1gsWUFBWTtFQUNaLGdDQUFnQztFQUNoQyxrQkFBa0I7RUFDbEIsV0FBVyxFQUFFLFNBQVM7QUFDeEIiLCJmaWxlIjoic3JjL2FwcC9sb2dpbi9sb2dpbi5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbi5sb2dpbi1wYWdlIHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgZm9udC1mYW1pbHk6ICdSb2JvdG8nLCBzYW5zLXNlcmlmO1xyXG4gIGNvbG9yOiAjNjY2O1xyXG59XHJcblxyXG4ubG9naW4tcGFnZSBoMSB7XHJcbiAgZm9udC1zaXplOiAzOHB4O1xyXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XHJcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgbGluZS1oZWlnaHQ6IDUwcHg7XHJcbiAgbGV0dGVyLXNwYWNpbmc6IDEuOXB4O1xyXG4gIHBhZGRpbmctdG9wOiAxMnB4O1xyXG4gIG1hcmdpbi10b3A6IDBweDtcclxufVxyXG5cclxuLmxvZ2luLXBhZ2UgaDIge1xyXG4gIGNvbG9yOiAjNjY2O1xyXG5cclxuICBmb250LXNpemU6IDE2cHg7XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICBsZXR0ZXItc3BhY2luZzogMXB4O1xyXG4gIGxpbmUtaGVpZ2h0OiAyMXB4O1xyXG4gIG1hcmdpbi10b3A6IDQ4cHg7XHJcbn1cclxuXHJcbi5sb2dpbi1wYWdlIC5zbWFsbC1saW5rIHtcclxuICBmb250LXNpemU6IDEycHg7XHJcbiAgY29sb3I6ICM2NjY7XHJcbiAgbGV0dGVyLXNwYWNpbmc6IDAuNzVweDtcclxuICBsaW5lLWhlaWdodDogMTZweDtcclxufVxyXG5cclxuLmxvZ2luLXBhZ2UgLnJlZ2lzdHJhdGlvbi1saW5rIHtcclxuICBtYXJnaW4tdG9wOiAzOHB4O1xyXG59XHJcblxyXG4ubG9naW4tcGFnZSAucmVnaXN0cmF0aW9uLWxpbmsgcCB7XHJcbiAgZm9udC1zaXplOiAxNnB4O1xyXG4gIGNvbG9yOiAjNjY2O1xyXG4gIGxldHRlci1zcGFjaW5nOiAxcHg7XHJcbn1cclxuXHJcbi5sb2dpbi1wYWdlIC5pdGVtLWRpdmlkZXIge1xyXG4gIGJveC1zaXppbmc6Ym9yZGVyLWJveDtcclxuICBoZWlnaHQ6IDFweDtcclxuICB3aWR0aDogMzU0cHg7XHJcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNFMEUwRTA7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIGJvdHRvbTotOHB4OyBsZWZ0Oi05cHg7XHJcbn1cclxuIl19 */\"","module.exports = \"<div class=\\\"login-page\\\">\\r\\n\\r\\n  <!-- APP LOGO -->\\r\\n  <div style=\\\"margin-top:60px;\\\">\\r\\n    <i class=\\\"fab fa-optin-monster\\\" style=\\\"font-size: 90px; color:#0040ff;\\\"></i>\\r\\n  </div>\\r\\n\\r\\n  <!-- APP NAME -->\\r\\n  <h1 id=\\\"homeChatTitle\\\">\\r\\n    <style>\\r\\n      h1 { color: #0040ff; }\\r\\n      </style>\\r\\n    DECHAT_ES6B\\r\\n  </h1>\\r\\n\\r\\n  <!-- LOGIN TITLE -->\\r\\n  <h2>\\r\\n    Login with Solid Identity\\r\\n  </h2>\\r\\n\\r\\n  <!-- PROVIDER SELECTION -->\\r\\n  <div style=\\\"margin-top: 10px\\\">\\r\\n    <ng-select class=\\\"login-select\\\"\\r\\n               bindLabel=\\\"name\\\"\\r\\n               bindValue=\\\"loginUrl\\\"\\r\\n               placeholder=\\\"Select ID Provider\\\"\\r\\n               dropdownPosition=\\\"bottom\\\"\\r\\n               [items]=\\\"identityProviders\\\"\\r\\n               [(ngModel)]=\\\"selectedProviderUrl\\\"\\r\\n               style=\\\"width: 360px; height: 48px; margin-left: auto; margin-right: auto;\\\">\\r\\n\\r\\n      <!-- DROPDOWN TEMPLATE -->\\r\\n      <ng-template ng-option-tmp let-item=\\\"item\\\">\\r\\n        <div style=\\\"height:40px; padding-top:10px; position: relative;\\\">\\r\\n          <img [src]=\\\"item.image\\\" style=\\\"float: left; height: 32px; width: 32px; margin-top:-5px;\\\" />\\r\\n          <span style=\\\"float: left; margin-left: 10px;\\\">{{ item.name }}</span>\\r\\n          <div style=\\\"clear: both;\\\"></div>\\r\\n          <div class=\\\"item-divider\\\"></div>\\r\\n        </div>\\r\\n      </ng-template>\\r\\n\\r\\n    </ng-select>\\r\\n    <input type=\\\"text\\\"\\r\\n           class=\\\"wide-text\\\"\\r\\n           *ngIf=\\\"selectedProviderUrl===null\\\"\\r\\n           placeholder=\\\"Enter WebID\\\"\\r\\n           style=\\\"margin-top:10px; padding: 12px 10px; width: 340px; height: 16px; display: block; margin-left: auto; margin-right: auto;\\\"\\r\\n           [(ngModel)]=\\\"customProviderUrl\\\" />\\r\\n    <button class=\\\"wide-button\\\" (click)=\\\"onLogin()\\\" *ngIf=\\\"selectedProviderUrl !== undefined || customProviderUrl !== undefined\\\" [disabled]=\\\"selectedProviderUrl===null && !customProviderUrl\\\" style=\\\"margin-top:10px;\\\">Go</button>\\r\\n  </div>\\r\\n\\r\\n  <!-- REGISTRATION -->\\r\\n  <div class=\\\"registration-link\\\">\\r\\n    <p style=\\\"margin: 12px;\\\">Don't have a Solid Identity?</p>\\r\\n    <button class=\\\"wide-button\\\" (click)=\\\"goToRegistration()\\\">Register</button>\\r\\n  </div>\\r\\n\\r\\n  <!-- HELP -->\\r\\n  <div style=\\\"margin-top: 48px;\\\">\\r\\n    <a href=\\\"https://solid.mit.edu\\\" target=\\\"_blank\\\" class=\\\"small-link\\\">\\r\\n      <i class=\\\"fas fa-info-circle\\\"></i> What is a Solid Identity?\\r\\n    </a>\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n  \\r\\n\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n// Auth Service\r\nimport { AuthService } from '../services/solid.auth.service';\r\nimport { SolidProvider } from '../models/solid-provider.model';\r\n\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n\r\n  constructor(private auth: AuthService, private router: Router) { }\r\n\r\n  /**\r\n   * A list of Solid Identity Providers\r\n   * @type {SolidProvider[]}\r\n   */\r\n  identityProviders: SolidProvider[];\r\n  selectedProviderUrl: string;\r\n  customProviderUrl: string;\r\n\r\n  ngOnInit() {\r\n    // If we're authenticated, go to profile\r\n    if (localStorage.getItem('solid-auth-client')) {\r\n      this.router.navigateByUrl('/card');\r\n    }\r\n\r\n    this.identityProviders = this.auth.getIdentityProviders();\r\n  }\r\n\r\n  /*\r\n  *  Alternate login-popup function for Solid. See service for more details.\r\n  */\r\n  onLoginPopup = async () => {\r\n    this.auth.solidLoginPopup();\r\n  }\r\n\r\n  onLogin = async () => {\r\n    const idp: string = this.selectedProviderUrl ? this.selectedProviderUrl : this.customProviderUrl;\r\n\r\n    if (idp) {\r\n      try {\r\n        this.auth.solidLogin(idp);\r\n      } catch (err) {\r\n        console.log('An error has occurred logging in: ' + err);\r\n      }\r\n    }\r\n  }\r\n\r\n  goToRegistration() {\r\n    this.router.navigateByUrl('/register');\r\n  }\r\n}\r\n","import { Message } from './message.model';\r\n\r\nexport class ChatChannel {\r\n\r\n    id: string;\r\n    title: string;\r\n    created: Date;\r\n    participants: string[]; // Array de WebIds\r\n    messages: Message[];\r\n\r\n    constructor(id: string, title: string, created: Date = new Date(),\r\n            participants: string[] = new Array(), messages: Message[] = new Array()) {\r\n\r\n        this.id = id;\r\n        this.title = title;\r\n        this.created = created\r\n        this.participants = participants;\r\n        this.messages = messages;\r\n    }\r\n}\r\n","export class Message {\r\n\r\n    // id: string;\r\n    makerWebId: string;\r\n    sendTime: Date;\r\n    message: string;\r\n\r\n    constructor(makerWebId: string, message: string, sendTime: Date = new Date()) {\r\n        // this.id = id;\r\n        this.makerWebId = makerWebId;\r\n        this.message = message;\r\n        this.sendTime = sendTime;\r\n    }\r\n\r\n    public toString(): String {\r\n        return this.message;\r\n        // return this.makerWebId + \": \" + this.message + \". Enviado: \" + this.sendTime.toDateString;\r\n     }\r\n}\r\n","module.exports = \".registration {\\r\\n  text-align: center;\\r\\n  font-family: 'Roboto', sans-serif;\\r\\n}\\r\\n\\r\\n.registration .header-bar {\\r\\n  margin: 0px;\\r\\n  height: 44px;\\r\\n  width: calc(100% + 16px);\\r\\n  background-color: #3D6DEB;\\r\\n  color: #fff;\\r\\n  position: absolute;\\r\\n  top: 0;\\r\\n  left: 0;\\r\\n}\\r\\n\\r\\n.registration .header-bar p {\\r\\n  text-align: center;\\r\\n  font-family: 'Roboto', sans-serif;\\r\\n  font-weight: bold;\\r\\n  font-size: 14px;\\r\\n  letter-spacing: 1px;\\r\\n  line-height: 15px;\\r\\n}\\r\\n\\r\\n.registration .header-text {\\r\\n  margin-top:92px;\\r\\n  width: 360px;\\r\\n  margin-left: auto;\\r\\n  margin-right: auto;\\r\\n  font-size: 14px;\\r\\n  color: #666;\\r\\n}\\r\\n\\r\\n.registration .header-text a {\\r\\n  color: #666;\\r\\n  font-size: 12px;\\r\\n}\\r\\n\\r\\n.registration .provider-card-container {\\r\\n  margin-top: 28px;\\r\\n}\\r\\n\\r\\n.registration .provider-card {\\r\\n  height: 140px;\\r\\n  width: 320px;\\r\\n  border: 1px solid #DAE0E6;\\r\\n  border-radius: 2px;\\r\\n  background-color: #fff;\\r\\n  margin: 10px;\\r\\n  display: inline-block;\\r\\n  box-shadow: #DAE0E6 1px 1px 6px;\\r\\n}\\r\\n\\r\\n.registration .provider-card .provider-logo {\\r\\n  height: 44px;\\r\\n  width: 44px;\\r\\n  margin-left: auto;\\r\\n  margin-right: auto;\\r\\n  margin-top: 16px;\\r\\n}\\r\\n\\r\\n.registration .provider-card h2 {\\r\\n  color: #656E75;\\r\\n  font-size: 18px;\\r\\n  margin-top: -2px;\\r\\n  letter-spacing: 0.9px;\\r\\n  line-height: 24px;\\r\\n}\\r\\n\\r\\n.registration .provider-card p {\\r\\n  color: #656E75;\\r\\n  font-size: 12px;\\r\\n  line-height: 16px;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmVnaXN0ZXIvcmVnaXN0ZXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFrQjtFQUNsQixpQ0FBaUM7QUFDbkM7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsWUFBWTtFQUNaLHdCQUF3QjtFQUN4Qix5QkFBeUI7RUFDekIsV0FBVztFQUNYLGtCQUFrQjtFQUNsQixNQUFNO0VBQ04sT0FBTztBQUNUOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLGlDQUFpQztFQUNqQyxpQkFBaUI7RUFDakIsZUFBZTtFQUNmLG1CQUFtQjtFQUNuQixpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsWUFBWTtFQUNaLGlCQUFpQjtFQUNqQixrQkFBa0I7RUFDbEIsZUFBZTtFQUNmLFdBQVc7QUFDYjs7QUFFQTtFQUNFLFdBQVc7RUFDWCxlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLFlBQVk7RUFDWix5QkFBeUI7RUFDekIsa0JBQWtCO0VBQ2xCLHNCQUFzQjtFQUN0QixZQUFZO0VBQ1oscUJBQXFCO0VBQ3JCLCtCQUErQjtBQUNqQzs7QUFFQTtFQUNFLFlBQVk7RUFDWixXQUFXO0VBQ1gsaUJBQWlCO0VBQ2pCLGtCQUFrQjtFQUNsQixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxjQUFjO0VBQ2QsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixxQkFBcUI7RUFDckIsaUJBQWlCO0FBQ25COztBQUNBO0VBQ0UsY0FBYztFQUNkLGVBQWU7RUFDZixpQkFBaUI7QUFDbkIiLCJmaWxlIjoic3JjL2FwcC9yZWdpc3Rlci9yZWdpc3Rlci5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnJlZ2lzdHJhdGlvbiB7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIGZvbnQtZmFtaWx5OiAnUm9ib3RvJywgc2Fucy1zZXJpZjtcclxufVxyXG5cclxuLnJlZ2lzdHJhdGlvbiAuaGVhZGVyLWJhciB7XHJcbiAgbWFyZ2luOiAwcHg7XHJcbiAgaGVpZ2h0OiA0NHB4O1xyXG4gIHdpZHRoOiBjYWxjKDEwMCUgKyAxNnB4KTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjM0Q2REVCO1xyXG4gIGNvbG9yOiAjZmZmO1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICB0b3A6IDA7XHJcbiAgbGVmdDogMDtcclxufVxyXG5cclxuLnJlZ2lzdHJhdGlvbiAuaGVhZGVyLWJhciBwIHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgZm9udC1mYW1pbHk6ICdSb2JvdG8nLCBzYW5zLXNlcmlmO1xyXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gIGZvbnQtc2l6ZTogMTRweDtcclxuICBsZXR0ZXItc3BhY2luZzogMXB4O1xyXG4gIGxpbmUtaGVpZ2h0OiAxNXB4O1xyXG59XHJcblxyXG4ucmVnaXN0cmF0aW9uIC5oZWFkZXItdGV4dCB7XHJcbiAgbWFyZ2luLXRvcDo5MnB4O1xyXG4gIHdpZHRoOiAzNjBweDtcclxuICBtYXJnaW4tbGVmdDogYXV0bztcclxuICBtYXJnaW4tcmlnaHQ6IGF1dG87XHJcbiAgZm9udC1zaXplOiAxNHB4O1xyXG4gIGNvbG9yOiAjNjY2O1xyXG59XHJcblxyXG4ucmVnaXN0cmF0aW9uIC5oZWFkZXItdGV4dCBhIHtcclxuICBjb2xvcjogIzY2NjtcclxuICBmb250LXNpemU6IDEycHg7XHJcbn1cclxuXHJcbi5yZWdpc3RyYXRpb24gLnByb3ZpZGVyLWNhcmQtY29udGFpbmVyIHtcclxuICBtYXJnaW4tdG9wOiAyOHB4O1xyXG59XHJcblxyXG4ucmVnaXN0cmF0aW9uIC5wcm92aWRlci1jYXJkIHtcclxuICBoZWlnaHQ6IDE0MHB4O1xyXG4gIHdpZHRoOiAzMjBweDtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjREFFMEU2O1xyXG4gIGJvcmRlci1yYWRpdXM6IDJweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xyXG4gIG1hcmdpbjogMTBweDtcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgYm94LXNoYWRvdzogI0RBRTBFNiAxcHggMXB4IDZweDtcclxufVxyXG5cclxuLnJlZ2lzdHJhdGlvbiAucHJvdmlkZXItY2FyZCAucHJvdmlkZXItbG9nbyB7XHJcbiAgaGVpZ2h0OiA0NHB4O1xyXG4gIHdpZHRoOiA0NHB4O1xyXG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gIG1hcmdpbi1yaWdodDogYXV0bztcclxuICBtYXJnaW4tdG9wOiAxNnB4O1xyXG59XHJcblxyXG4ucmVnaXN0cmF0aW9uIC5wcm92aWRlci1jYXJkIGgyIHtcclxuICBjb2xvcjogIzY1NkU3NTtcclxuICBmb250LXNpemU6IDE4cHg7XHJcbiAgbWFyZ2luLXRvcDogLTJweDtcclxuICBsZXR0ZXItc3BhY2luZzogMC45cHg7XHJcbiAgbGluZS1oZWlnaHQ6IDI0cHg7XHJcbn1cclxuLnJlZ2lzdHJhdGlvbiAucHJvdmlkZXItY2FyZCBwIHtcclxuICBjb2xvcjogIzY1NkU3NTtcclxuICBmb250LXNpemU6IDEycHg7XHJcbiAgbGluZS1oZWlnaHQ6IDE2cHg7XHJcbn1cclxuIl19 */\"","module.exports = \"<div class=\\\"registration\\\">\\r\\n  <!-- Header Bar -->\\r\\n  <div class=\\\"header-bar\\\">\\r\\n    <p>Select Solid Identity Provider</p>\\r\\n  </div>\\r\\n\\r\\n  <!-- Header Text -->\\r\\n  <div class=\\\"header-text\\\">\\r\\n    <p>\\r\\n      With a Solid Identity your personal data is stored securely in a POD. You control who has access to it.\\r\\n    </p>\\r\\n    <a href=\\\"https://solid.mit.edu\\\" target=\\\"_blank\\\">\\r\\n      Learn more about Solid IDs and PODs\\r\\n    </a>\\r\\n  </div>\\r\\n\\r\\n  <!-- Provider cards -->\\r\\n  <div class=\\\"provider-card-container\\\">\\r\\n    <div class=\\\"provider-card\\\" *ngFor=\\\"let provider of availableProviders\\\">\\r\\n      <img [src]=\\\"provider.image\\\" class=\\\"provider-logo\\\">\\r\\n      <h2>{{ provider.name }}</h2>\\r\\n      <p>{{ provider.desc }}</p>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { AuthService } from '../services/solid.auth.service';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.component.html',\r\n  styleUrls: ['./register.component.css']\r\n})\r\nexport class RegisterComponent implements OnInit {\r\n  availableProviders: any[];\r\n\r\n  constructor(private auth: AuthService) { }\r\n\r\n  ngOnInit() {\r\n    this.availableProviders = this.auth.getIdentityProviders();\r\n    this.availableProviders = this.availableProviders.filter(idp => idp.providerLoginUrl !== null);\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {\r\n  CanActivate,\r\n  ActivatedRouteSnapshot,\r\n  RouterStateSnapshot,\r\n  Router\r\n} from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { map, take, tap } from 'rxjs/operators';\r\n\r\nimport { AuthService } from './solid.auth.service';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AuthGuard implements CanActivate {\r\n  constructor(private auth: AuthService, private router: Router) {}\r\n\r\n  canActivate(\r\n    next: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot\r\n  ): Observable<boolean> | Promise<boolean> | boolean {\r\n    const isLoggedIn = localStorage.getItem('solid-auth-client') ? true : false;\r\n\r\n    if (!isLoggedIn) {\r\n      this.router.navigateByUrl('/login');\r\n    }\r\n\r\n    return isLoggedIn; /* this.auth.session.pipe(\r\n      take(1),\r\n      map(session => !!session),\r\n      tap(loggedIn => {\r\n        if (!loggedIn) {\r\n          return this.router.navigate(['/']);\r\n        }\r\n      })\r\n    );*/\r\n  }\r\n}\r\n","import { Injectable, Predicate } from '@angular/core';\r\nimport { SolidSession } from '../models/solid-session.model';\r\nimport { RdfService } from '../services/rdf.service';\r\nimport { AuthService } from '../services/solid.auth.service';\r\nimport { SolidProfile } from '../models/solid-profile.model';\r\nimport { ChatChannel } from '../models/chat-channel.model';\r\nimport { Message } from '../models/message.model';\r\n\r\nimport * as fileClient from 'solid-file-client';\r\nimport * as uuid from 'uuid';\r\nimport { getBodyNode } from '@angular/animations/browser/src/render/shared';\r\nimport { IfStmt } from '@angular/compiler';\r\n\r\n\r\nconst CHAT_CHANNEL_CONTENT_TYPE = 'application/ld+json';\r\nconst MESSAGE_CONTENT_TYPE = 'application/ld+json';\r\nconst PRIVATE_FOLDER = '/private';\r\nconst PRIVATE_CHAT_FOLDER = '/private/dechat_es6b';\r\nconst INBOX_FOLDER = '/inbox/';\r\nconst BASE_NAME_MESSAGES = 'dechat_msg';\r\nconst PROFILE_CARD_FOLDER = '/profile/card#me';\r\nconst MESSAGE_FILE_FORMAT = 'jsonld';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ChatService {\r\n\r\n  chatChannels: ChatChannel[] = new Array();\r\n  uri: string;\r\n  webid: string\r\n\r\n  constructor(private rdf: RdfService, private auth: AuthService, ) {\r\n    // this.startChat();\r\n  }\r\n\r\n  setChatChannels(chatChannels: ChatChannel[]){\r\n    this.chatChannels=chatChannels;\r\n  }\r\n\r\n  /**\r\n   *\r\n   */\r\n  async startChat() {\r\n    this.webid = await this.getWebId();\r\n    this.uri = this.webid.replace(PROFILE_CARD_FOLDER, \"\");\r\n\r\n    await this.checkPrivateFolder();\r\n    await this.checkDeChatFolder();\r\n    await this.loadChatChannels();\r\n\r\n    this.interval(async () => {\r\n        await this.checkInbox();\r\n    }, 1000);\r\n  }\r\n\r\n  /**\r\n   * Crea la carpeta /private\r\n   */\r\n  async checkPrivateFolder() {\r\n    // Si no esta creada la carpeta para almacenar los canales de chat la creamos\r\n    let checkFolder = await this.rdf.readFolder(this.uri + PRIVATE_FOLDER);\r\n    if (checkFolder === undefined) {\r\n      this.rdf.createFolder(this.uri + PRIVATE_FOLDER);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Crea la carpeta para almacenar los canales de chat si no est creada\r\n   */\r\n  async checkDeChatFolder() {\r\n    // Si no esta creada la carpeta para almacenar los canales de chat la creamos\r\n    let checkFolder = await this.rdf.readFolder(this.uri + PRIVATE_CHAT_FOLDER);\r\n    if (checkFolder === undefined) {\r\n      this.rdf.createFolder(this.uri + PRIVATE_CHAT_FOLDER);\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   */\r\n  async loadChatChannels() {\r\n    console.log(\"Loading chat channels...\");\r\n    this.chatChannels = await this.rdf.loadChatChannels(this.uri + PRIVATE_CHAT_FOLDER);\r\n\r\n    // Ordenamos los mensajes de cada canal de chat\r\n    for (const c of this.chatChannels) {\r\n      c.messages.sort(function(a, b) { return  +new Date(a.sendTime) - +new Date(b.sendTime) });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Example result: https://yourpod.solid.community\r\n   */\r\n  async getWebId(): Promise<string> {\r\n    let s = await fileClient.checkSession().then( session => { return(session.webId) }, err => console.log(err) );\r\n    return s;\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param ms \r\n   */\r\n  delay(ms: number) {\r\n    return new Promise( resolve => setTimeout(resolve, ms) );\r\n  }\r\n\r\n  getUri(): string {\r\n    return this.uri;\r\n  }\r\n\r\n  /**\r\n   * Guarda el mensaje en el objeto chat, actualiza el chat en el POD propio y enva el mensaje al Inbox de los participantes del chat\r\n   *\r\n   * @param chatChannel\r\n   * @param msg\r\n   */\r\n  async sendMessage(chatChannel: ChatChannel, msg: string) {\r\n      // Comprobamos que el canal exista\r\n      let channel:ChatChannel = this.searchChatChannelById(chatChannel.id);\r\n      if (channel != null) {\r\n        // Creamos y guardamos el mensaje\r\n        let tmpMakerWebId = await this.getWebId();\r\n        let message = new Message(tmpMakerWebId, msg);\r\n        chatChannel.messages.push(message);\r\n\r\n        // Actualizamos canal de chat en POD propio\r\n        await this.rdf.saveMessage(this.uri + PRIVATE_CHAT_FOLDER + \"/\" + chatChannel.id, message);\r\n\r\n        // Enviamos el mensaje a todos los participantes del chat\r\n        let newMsg = JSON.stringify(message);\r\n        chatChannel.participants.forEach(async participant => {  // << En este momento solo est implementado para cada persona distinta un chat distinto >>\r\n          let tmpParticipant = participant.replace(PROFILE_CARD_FOLDER, \"\");\r\n          await this.rdf.createFile(tmpParticipant + INBOX_FOLDER + BASE_NAME_MESSAGES, newMsg, MESSAGE_CONTENT_TYPE);\r\n        });\r\n      }\r\n  }\r\n\r\n  /**\r\n   * Busca nuevas notificaciones de mensajes en el inbox propio\r\n   */\r\n  async checkInbox() {\r\n    let folderContent = await this.rdf.readFolder(this.uri + INBOX_FOLDER);\r\n\r\n    console.log(\"Checking inbox...\");\r\n    for (const file of folderContent.files) {\r\n      if (file.type == MESSAGE_CONTENT_TYPE && file.label.includes(BASE_NAME_MESSAGES)) {\r\n        await this.processNewMessage(file.url);\r\n        await this.rdf.deleteFile(file.url);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * - Si ya existe canal de chat con el participante aade el nuevo mensaje al canal existente\r\n   * - Si no existe canal de chat con el participante crea el canal correspondiente y lo aade al nuevo canal\r\n   *\r\n   * @param urlFile\r\n   */\r\n  private async processNewMessage(urlFile: any) {\r\n    let jsonld = await this.rdf.readFile(urlFile);\r\n    let newMessage:Message = JSON.parse(jsonld);\r\n\r\n    // Aadimos el mensaje al canal correspondiente si ya existe\r\n    let channel:ChatChannel = this.searchChatChannelByParticipantWebid(newMessage.makerWebId);\r\n    if (channel != null) {\r\n      channel.messages.push(newMessage);\r\n      channel.messages.sort(function(a, b) { return  +new Date(a.sendTime) - +new Date(b.sendTime) });\r\n\r\n       // Guardamos el mensaje en el chat en el POD propio\r\n      await this.rdf.saveMessage(this.uri + PRIVATE_CHAT_FOLDER + \"/\" + channel.id, newMessage);\r\n\r\n    } else {\r\n      // Si no hay canal asociado creamos uno\r\n      let newChannel = await this.createNewChatChannel(newMessage.makerWebId);\r\n      newChannel.messages.push(newMessage);\r\n\r\n      // Guardamos el mensaje en el chat en el POD propio\r\n      await this.rdf.saveMessage(this.uri + PRIVATE_CHAT_FOLDER + \"/\" + newChannel.id, newMessage);\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param ChatChannel chat\r\n   */\r\n  public async showChatMessages(chat: ChatChannel) {\r\n      for (const m in chat.messages) {\r\n        console.log(m.toString);\r\n      }\r\n  }\r\n\r\n  /**\r\n   * Mtodo para crear nuevos canales, el nuevo canal ser creado en el POD propio y aadido a la\r\n   * lista de canales de chat.\r\n   *\r\n   * @param webId WebId del contacto (Example: https://yourpod.solid.community/profile/card#me)\r\n   * @param title\r\n   */\r\n  public async createNewChatChannel(webId: string, title: string = \"Canal de chat\"): Promise<ChatChannel> {\r\n    let channel:ChatChannel = this.searchChatChannelByParticipantWebid(webId);\r\n    let nameParticipant = await this.rdf.getVCardName(webId);\r\n\r\n    if (channel == null) {\r\n      title = (nameParticipant != undefined && nameParticipant.length > 0)? nameParticipant : title;\r\n      let newChatChannel = new ChatChannel(this.getUniqueChatChannelID(), title);\r\n\r\n      // Aadimos el chat a la lista de chats en memoria\r\n      newChatChannel.participants.push(webId);\r\n      this.chatChannels.push(newChatChannel);\r\n\r\n      // Guardamos el chat a nuestro POD\r\n      await this.rdf.saveNewChatChannel(this.uri + PRIVATE_CHAT_FOLDER + \"/\", newChatChannel);\r\n\r\n      return newChatChannel;\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * <<MTODO SOLO VLIDO PARA CHATS INDIVIDUALES - ADAPTAR PARA IMPLEMENTACIN DE CHATS GRUPALES>>\r\n   *\r\n   * @param webId\r\n   */\r\n  public searchChatChannelByParticipantWebid(webId: string): ChatChannel {\r\n    for (const channel of this.chatChannels) {\r\n      if (channel.participants.includes(webId)) {\r\n        return channel;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param id\r\n   */\r\n  public searchChatChannelById(id: string): ChatChannel {\r\n    for (const channel of this.chatChannels) {\r\n      if (channel.id == id) {\r\n        return channel;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   *\r\n   */\r\n  private getUniqueChatChannelID(): string {\r\n    let isUnique: boolean = false;\r\n    let id = uuid.v4();\r\n\r\n    while (!isUnique) {\r\n      isUnique = true;\r\n      this.chatChannels.forEach(channel => {\r\n        if (channel.id == id) {\r\n          isUnique = false;\r\n        }\r\n      });\r\n    }\r\n\r\n    return id;\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// ---------------------- INTERVAL-PROMISE LIBRARY ---------------------- //\r\n\r\n  /**\r\n   * @param {function} func - function to execute\r\n   * @param {number|function(number):number} intervalLength - length in ms to wait before executing again\r\n   * @param {{iterations: Infinity|number, stopOnError: boolean}} [options]\r\n   *\r\n   * @returns {Promise} Promise object with no result\r\n   */\r\n  interval(func, intervalLength, options = {}) {\r\n\r\n    this.validateArgs(func, intervalLength, options)\r\n\r\n    const defaults = {\r\n      iterations: Infinity,\r\n      stopOnError: true\r\n    }\r\n    const settings = Object.assign(defaults, options)\r\n\r\n    return new Promise((rootPromiseResolve, rootPromiseReject) => {\r\n\r\n      const callFunction = currentIteration => {\r\n\r\n        // Set up a way to track if a \"stop\" was requested by the user function\r\n        let stopRequested = false\r\n        const stop = () => {\r\n          stopRequested = true\r\n        }\r\n\r\n        // Set up a function to call the next iteration. This is abstracted so it can be called by .then(), or in .catch(), if options allow.\r\n        const callNext = () => {\r\n          // If we've hit the desired number of iterations, or stop was called, resolve the root promise and return\r\n          if (currentIteration === settings.iterations || stopRequested) {\r\n            rootPromiseResolve()\r\n            return\r\n          }\r\n\r\n          // Otherwise, call the next iteration\r\n          callFunction(currentIteration + 1)\r\n        }\r\n\r\n        // Calculate our interval length\r\n        const calculatedIntervalLength = (typeof intervalLength === 'function') ? intervalLength(currentIteration) : intervalLength\r\n\r\n        // If the interval length was calculated, validate the result\r\n        if (typeof intervalLength === 'function') {\r\n          if (!Number.isInteger(calculatedIntervalLength) || calculatedIntervalLength < 0) {\r\n            rootPromiseReject(new Error('Function for \"intervalLength\" argument must return a non-negative integer.'))\r\n            return\r\n          }\r\n        }\r\n\r\n        // Call the user function after the desired interval length. After, call the next iteration (and/or handle error)\r\n        setTimeout(() => {\r\n\r\n          const returnVal = func(currentIteration, stop)\r\n\r\n          if (!(returnVal instanceof Promise)) {\r\n            rootPromiseReject(new Error('Return value of \"func\" must be a Promise.'))\r\n            return\r\n          }\r\n\r\n          returnVal.then(callNext).catch(err => {\r\n            if (!settings.stopOnError) {\r\n              callNext()\r\n              return\r\n            }\r\n\r\n            rootPromiseReject(err)\r\n          })\r\n        }, calculatedIntervalLength)\r\n      }\r\n\r\n      callFunction(1)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * A helper function to validate the arguments passed to interval(...)\r\n   *\r\n   * @param {*} func\r\n   * @param {*} intervalLength\r\n   * @param {*} options\r\n   */\r\n  validateArgs(func, intervalLength, options) {\r\n\r\n    // Validate \"func\"\r\n    if (typeof func !== 'function') {\r\n      throw new TypeError('Argument 1, \"func\", must be a function.')\r\n    }\r\n\r\n    // Validate \"intervalLength\"\r\n    if (typeof intervalLength === 'number') {\r\n      if (!Number.isInteger(intervalLength) || intervalLength < 0) {\r\n        throw new TypeError('Argument 2, \"intervalLength\", must be a non-negative integer or a function that returns a non-negative integer.')\r\n      }\r\n    } else if (typeof intervalLength !== 'function') {\r\n      throw new TypeError('Argument 2, \"intervalLength\", must be a non-negative integer or a function that returns a non-negative integer.')\r\n    }\r\n\r\n    // Validate options...\r\n    if (typeof options !== 'object') {\r\n      throw new TypeError('Argument 3, \"options\", must be an object.')\r\n    }\r\n\r\n    // Validate passed keys\r\n    const allowedKeys = ['iterations', 'stopOnError']\r\n\r\n    Object.keys(options).forEach(key => {\r\n      if (!allowedKeys.includes(key)) {\r\n        throw new TypeError('Option \"' + key + '\" is not a valid option.')\r\n      }\r\n    })\r\n\r\n    // validate \"iterations\" option (if passed)\r\n    if (options.hasOwnProperty('iterations')) {\r\n      if (options.iterations !== Infinity && (!Number.isInteger(options.iterations) || options.iterations < 1)) {\r\n        throw new TypeError('Option \"iterations\" must be Infinity or an integer greater than 0.')\r\n      }\r\n    }\r\n\r\n    // validate \"stopOnError\" option (if passed)\r\n    if (options.hasOwnProperty('stopOnError')) {\r\n      if (typeof options.stopOnError !== 'boolean') {\r\n        throw new TypeError('Option \"stopOnError\" must be a boolean.')\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { SolidSession } from '../models/solid-session.model';\r\ndeclare let solid: any;\r\ndeclare let $rdf: any;\r\n//import * as $rdf from 'rdflib'\r\n\r\n// TODO: Remove any UI interaction from this service\r\nimport * as uuid from 'uuid';\r\nimport * as fileClient from 'solid-file-client';\r\nimport { NgForm } from '@angular/forms';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { store } from '@angular/core/src/render3/instructions';\r\nimport { Message } from '../models/message.model';\r\nimport { ChatChannel } from '../models/chat-channel.model';\r\n\r\n\r\nconst VCARD = $rdf.Namespace('http://www.w3.org/2006/vcard/ns#');\r\nconst FOAF = $rdf.Namespace('http://xmlns.com/foaf/0.1/');\r\nconst SH = $rdf.Namespace('http://www.w3.org/ns/shacl#');\r\nconst XSD = $rdf.Namespace('http://www.w3.org/2001/XMLSchema#');\r\nconst SCHEMA = $rdf.Namespace('http://schema.org/');\r\nconst DC = $rdf.Namespace('http://purl.org/dc/elements/1.1/');\r\nconst TERMS = $rdf.Namespace('http://purl.org/dc/terms/');\r\nconst FLOW = $rdf.Namespace('http://www.w3.org/2005/01/wf/flow#');\r\nconst ICAL = $rdf.Namespace('http://www.w3.org/2002/12/cal/ical#');\r\nconst MEE = $rdf.Namespace('http://www.w3.org/ns/pim/meeting#');\r\nconst SIOC = $rdf.Namespace('http://rdfs.org/sioc/ns#');\r\nconst SOLIDRDF = $rdf.Namespace('http://www.w3.org/ns/solid/terms#');\r\nconst UI = $rdf.Namespace('http://www.w3.org/ns/ui#');\r\nconst RDF = $rdf.Namespace('http://www.w3.org/1999/02/22-rdf-syntax-ns#');\r\nvar LDP = $rdf.Namespace(\"http://www.w3.org/ns/ldp#\");\r\n\r\nconst DEFAULT_CONTENT_TYPE = 'application/ld+json'\r\nconst DEFAULT_ACCEPT = 'application/ld+json;q=0.9,text/turtle;q=0.8'\r\nconst INBOX_LINK_REL = 'http://www.w3.org/ns/ldp#inbox'\r\n\r\n/**\r\n * A service layer for RDF data manipulation using rdflib.js\r\n * @see https://solid.inrupt.com/docs/manipulating-ld-with-rdflib\r\n */\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class RdfService {\r\n\r\n  session: SolidSession;\r\n  store = $rdf.graph();\r\n\r\n  /**\r\n   * A helper object that connects to the web, loads data, and saves it back. More powerful than using a simple\r\n   * store object.\r\n   * When you have a fetcher, then you also can ask the query engine to go fetch new linked data automatically\r\n   * as your query makes its way across the web.\r\n   * @see http://linkeddata.github.io/rdflib.js/doc/Fetcher.html\r\n   */\r\n  fetcher = $rdf.Fetcher;\r\n\r\n  /**\r\n   * The UpdateManager allows you to send small changes to the server to patch the data as your user changes data in\r\n   * real time. It also allows you to subscribe to changes other people make to the same file, keeping track of\r\n   * upstream and downstream changes, and signaling any conflict between them.\r\n   * @see http://linkeddata.github.io/rdflib.js/doc/UpdateManager.html\r\n   */\r\n  updateManager = $rdf.UpdateManager;\r\n\r\n  constructor (private toastr: ToastrService) {\r\n    const fetcherOptions = {};\r\n    this.fetcher = new $rdf.Fetcher(this.store, fetcherOptions);\r\n    this.updateManager = new $rdf.UpdateManager(this.store);\r\n    this.getSession();\r\n  }\r\n\r\n  /**\r\n   * Fetches the session from Solid, and store results in localStorage\r\n   */\r\n  getSession = async() => {\r\n    this.session = await solid.auth.currentSession(localStorage);\r\n  }\r\n\r\n  /**\r\n   * Gets a node that matches the specified pattern using the VCARD onthology\r\n   *\r\n   * any() can take a subject and a predicate to find Any one person identified by the webId\r\n   * that matches against the node/predicated\r\n   *\r\n   * @param {string} node VCARD predicate to apply to the $rdf.any()\r\n   * @param {string?} webId The webId URL (e.g. https://yourpod.solid.community/profile/card#me)\r\n   * @return {string} The value of the fetched node or an emtpty string\r\n   * @see https://github.com/solid/solid-tutorial-rdflib.js\r\n   */\r\n  getValueFromVcard = (node: string, webId?: string): string | any => {\r\n    return this.getValueFromNamespace(node, VCARD, webId);\r\n  };\r\n\r\n  /**\r\n   * Gets a node that matches the specified pattern using the FOAF onthology\r\n   * @param {string} node FOAF predicate to apply to the $rdf.any()\r\n   * @param {string?} webId The webId URL (e.g. https://yourpod.solid.community/profile/card#me)\r\n   * @return {string} The value of the fetched node or an emtpty string\r\n   */\r\n  getValueFromFoaf = (node: string, webId?: string) => {\r\n    return this.getValueFromNamespace(node, FOAF, webId);\r\n  };\r\n \r\n  transformDataForm = (form: NgForm, me: any, doc: any) => {\r\n    const insertions = [];\r\n    const deletions = [];\r\n    const fields = Object.keys(form.value);\r\n    const oldProfileData = JSON.parse(localStorage.getItem('oldProfileData')) || {};\r\n\r\n    // We need to split out into three code paths here:\r\n    // 1. There is an old value and a new value. This is the update path\r\n    // 2. There is no old value and a new value. This is the insert path\r\n    // 3. There is an old value and no new value. Ths is the delete path\r\n    // These are separate codepaths because the system needs to know what to do in each case\r\n    fields.map(field => {\r\n\r\n      let predicate = VCARD(this.getFieldName(field));\r\n      let subject = this.getUriForField(field, me);\r\n      let why = doc;\r\n\r\n      let fieldValue = this.getFieldValue(form, field);\r\n      let oldFieldValue = this.getOldFieldValue(field, oldProfileData);\r\n\r\n      // if there's no existing home phone number or email address, we need to add one, then add the link for hasTelephone or hasEmail\r\n      if(!oldFieldValue && fieldValue && (field === 'phone' || field==='email')) {\r\n        this.addNewLinkedField(field, insertions, predicate, fieldValue, why, me);\r\n      } else {\r\n\r\n        //Add a value to be updated\r\n        if (oldProfileData[field] && form.value[field] && !form.controls[field].pristine) {\r\n          deletions.push($rdf.st(subject, predicate, oldFieldValue, why));\r\n          insertions.push($rdf.st(subject, predicate, fieldValue, why));\r\n        }\r\n\r\n        //Add a value to be deleted\r\n        else if (oldProfileData[field] && !form.value[field] && !form.controls[field].pristine) {\r\n          deletions.push($rdf.st(subject, predicate, oldFieldValue, why));\r\n        }\r\n\r\n        //Add a value to be inserted\r\n        else if (!oldProfileData[field] && form.value[field] && !form.controls[field].pristine) {\r\n          insertions.push($rdf.st(subject, predicate, fieldValue, why));\r\n        }\r\n      }\r\n    });\r\n\r\n    return {\r\n      insertions: insertions,\r\n      deletions: deletions\r\n    };\r\n  };\r\n\r\n  private addNewLinkedField(field, insertions, predicate, fieldValue, why, me: any) {\r\n    //Generate a new ID. This id can be anything but needs to be unique.\r\n    let newId = field + ':' + Date.now();\r\n\r\n    //Get a new subject, using the new ID\r\n    let newSubject = $rdf.sym(this.session.webId.split('#')[0] + '#' + newId);\r\n\r\n    //Set new predicate, based on email or phone fields\r\n    let newPredicate = field === 'phone' ? $rdf.sym(VCARD('hasTelephone')) : $rdf.sym(VCARD('hasEmail'));\r\n\r\n    //Add new phone or email to the pod\r\n    insertions.push($rdf.st(newSubject, predicate, fieldValue, why));\r\n\r\n    //Set the type (defaults to Home/Personal for now) and insert it into the pod as well\r\n    //Todo: Make this dynamic\r\n    let type = field === 'phone' ? $rdf.literal('Home') : $rdf.literal('Personal');\r\n    insertions.push($rdf.st(newSubject, VCARD('type'), type, why));\r\n\r\n    //Add a link in #me to the email/phone number (by id)\r\n    insertions.push($rdf.st(me, newPredicate, newSubject, why));\r\n  }\r\n\r\n  private getUriForField(field, me): string {\r\n    let uriString: string;\r\n    let uri: any;\r\n\r\n    switch(field) {\r\n      case 'phone':\r\n        uriString = this.getValueFromVcard('hasTelephone');\r\n        if(uriString) {\r\n          uri = $rdf.sym(uriString);\r\n        }\r\n        break;\r\n      case 'email':\r\n        uriString = this.getValueFromVcard('hasEmail');\r\n        if(uriString) {\r\n          uri = $rdf.sym(uriString);\r\n        }\r\n        break;\r\n      default:\r\n        uri = me;\r\n        break;\r\n    }\r\n\r\n    return uri;\r\n  }\r\n\r\n  /**\r\n   * Extracts the value of a field of a NgForm and converts it to a $rdf.NamedNode\r\n   * @param {NgForm} form\r\n   * @param {string} field The name of the field that is going to be extracted from the form\r\n   * @return {RdfNamedNode}\r\n   */\r\n  private getFieldValue(form: NgForm, field: string): any {\r\n    let fieldValue: any;\r\n\r\n    if(!form.value[field]) {\r\n      return;\r\n    }\r\n\r\n    switch(field) {\r\n      case 'phone':\r\n        fieldValue = $rdf.sym('tel:+'+form.value[field]);\r\n        break;\r\n      case 'email':\r\n        fieldValue = $rdf.sym('mailto:'+form.value[field]);\r\n        break;\r\n      default:\r\n        fieldValue = form.value[field];\r\n        break;\r\n    }\r\n\r\n    return fieldValue;\r\n  }\r\n\r\n  private getOldFieldValue(field, oldProfile): any {\r\n    let oldValue: any;\r\n\r\n    if(!oldProfile || !oldProfile[field]) {\r\n      return;\r\n    }\r\n\r\n    switch(field) {\r\n      case 'phone':\r\n        oldValue = $rdf.sym('tel:+'+oldProfile[field]);\r\n        break;\r\n      case 'email':\r\n        oldValue = $rdf.sym('mailto:'+oldProfile[field]);\r\n        break;\r\n      default:\r\n        oldValue = oldProfile[field];\r\n        break;\r\n    }\r\n\r\n    return oldValue;\r\n  }\r\n\r\n  private getFieldName(field): string {\r\n    switch (field) {\r\n      case 'company':\r\n        return 'organization-name';\r\n      case 'phone':\r\n      case 'email':\r\n        return 'value';\r\n      default:\r\n        return field;\r\n    }\r\n  }\r\n\r\n  updateProfile = async (form: NgForm) => {\r\n    const me = $rdf.sym(this.session.webId);\r\n    const doc = $rdf.NamedNode.fromValue(this.session.webId.split('#')[0]);\r\n    const data = this.transformDataForm(form, me, doc);\r\n\r\n    //Update existing values\r\n    if(data.insertions.length > 0 || data.deletions.length > 0) {\r\n      this.updateManager.update(data.deletions, data.insertions, (response, success, message) => {\r\n        if(success) {\r\n          this.toastr.success('Your Solid profile has been successfully updated', 'Success!');\r\n          form.form.markAsPristine();\r\n          form.form.markAsTouched();\r\n        } else {\r\n          this.toastr.error('Message: '+ message, 'An error has occurred');\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  getAddress = () => {\r\n    const linkedUri = this.getValueFromVcard('hasAddress');\r\n\r\n    if (linkedUri) {\r\n      return {\r\n        locality: this.getValueFromVcard('locality', linkedUri),\r\n        country_name: this.getValueFromVcard('country-name', linkedUri),\r\n        region: this.getValueFromVcard('region', linkedUri),\r\n        street: this.getValueFromVcard('street-address', linkedUri),\r\n      };\r\n    }\r\n\r\n    return {};\r\n  };\r\n\r\n  //Function to get email. This returns only the first email, which is temporary\r\n  getEmail = () => {\r\n    const linkedUri = this.getValueFromVcard('hasEmail');\r\n\r\n    if (linkedUri) {\r\n      return this.getValueFromVcard('value', linkedUri).split('mailto:')[1];\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  //Function to get phone number. This returns only the first phone number, which is temporary. It also ignores the type.\r\n  getPhone = () => {\r\n    const linkedUri = this.getValueFromVcard('hasTelephone');\r\n\r\n    if(linkedUri) {\r\n      return this.getValueFromVcard('value', linkedUri).split('tel:+')[1];\r\n    }\r\n  };\r\n\r\n  getProfile = async () => {\r\n\r\n    if (!this.session) {\r\n      await this.getSession();\r\n    }\r\n\r\n    try {\r\n      await this.fetcher.load(this.session.webId);\r\n\r\n      return {\r\n        fn : this.getValueFromVcard('fn'),\r\n        company : this.getValueFromVcard('organization-name'),\r\n        phone: this.getPhone(),\r\n        role: this.getValueFromVcard('role'),\r\n        image: this.getValueFromVcard('hasPhoto'),\r\n        address: this.getAddress(),\r\n        email: this.getEmail(),\r\n      };\r\n    } catch (error) {\r\n      console.log(`Error fetching data: ${error}`);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Gets any resource that matches the node, using the provided Namespace\r\n   * @param {string} node The name of the predicate to be applied using the provided Namespace \r\n   * @param {$rdf.namespace} namespace The RDF Namespace\r\n   * @param {string?} webId The webId URL (e.g. https://yourpod.solid.community/profile/card#me) \r\n   */\r\n  private getValueFromNamespace(node: string, namespace: any, webId?: string): string | any {\r\n    const store = this.store.any($rdf.sym(webId || this.session.webId), namespace(node));\r\n    if (store) {\r\n      return store.value;\r\n    }\r\n    return '';\r\n  }\r\n\r\n  getFriends = () =>\r\n  {\r\n    const user = this.session.webId;\r\n    const amigos = this.store.each($rdf.sym(user), FOAF('knows'));\r\n    const lista_amigos = [];\r\n    try {\r\n      let i=0;\r\n      for (i=0; i<amigos.length; i++)\r\n      {\r\n        lista_amigos.push(amigos[i].value);\r\n      }\r\n      return lista_amigos;\r\n    } catch (error) {\r\n      console.log(`Error fetching data: ${error}`);\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * @param folderUri Example: https://yourpod.solid.community/private/\r\n   * @param newChatChannel Chat a guardar en el POD (se usar el id del chat para la URL, por tanto, debe ser nico)\r\n   */\r\n  async saveNewChatChannel(folderUri: String, newChatChannel: ChatChannel) {\r\n    let chatUri = folderUri + newChatChannel.id;\r\n    let channel = this.store.sym(chatUri);\r\n\r\n    this.store.add(channel, DC(\"title\"), newChatChannel.title, channel.doc());\r\n    this.store.add(channel, DC(\"created\"), newChatChannel.created, channel.doc());\r\n    newChatChannel.participants.forEach(element => {\r\n      this.store.add(channel, FLOW(\"participation\"), element, channel.doc());\r\n    });\r\n\r\n    this.fetcher.putBack(channel);\r\n  }\r\n\r\n  /**\r\n   * @param chatUri Example: https://yourpod.solid.community/private/aaaaa-bbbbb-ccccc\r\n   * @param msg Mensaje a guardar en el POD\r\n   */\r\n  async saveMessage(chatUri: String, message: Message) {\r\n    let msgUri = await this.generateUniqueUrlForResource(chatUri);\r\n    let msg = this.store.sym(msgUri);\r\n\r\n    this.store.add(msg, TERMS(\"created\"), message.sendTime, msg.doc());\r\n    this.store.add(msg, FOAF(\"maker\"), message.makerWebId, msg.doc());\r\n    this.store.add(msg, SIOC(\"content\"), message.message, msg.doc());\r\n\r\n    this.fetcher.putBack(msg);\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param chatChannelsFolderUri Example: https://yourpod.solid.community/private/dechat_es6b\r\n   */\r\n  async loadChatChannels(chatChannelsFolderUri: string): Promise<ChatChannel[]> {\r\n     const folderContent = await this.readFolder(chatChannelsFolderUri);\r\n     let chatChannels: ChatChannel[] = new Array();\r\n\r\n     // Recorremos los canales de chat\r\n    for (const file of folderContent.files) {\r\n      let fileUri = this.store.sym(file.url);\r\n      \r\n      // Obtenemos los datos del chat\r\n      await this.fetcher.load(fileUri.doc()).then(async response => {\r\n        let id = file.url.split('/').pop();\r\n        let title = this.store.match(fileUri, DC(\"title\"), null, fileUri.doc()).map(st => { return (st.object.value) });\r\n        let created = this.store.match(fileUri, DC(\"created\"), null, fileUri.doc()).map(st => { return (st.object.value) });\r\n        let participation = this.store.match(fileUri, FLOW(\"participation\"), null, fileUri.doc()).map(st => { return (st.object.value) });\r\n        let messages: Message[] = new Array();\r\n\r\n        // Recorremos los mensajes del chat\r\n        let listUrisMessages = this.store.match(null, SIOC(\"content\"), null, fileUri.doc()).map(st => { return (st.subject.value) });\r\n        for (const message of listUrisMessages) {\r\n          let messageUri = this.store.sym(message);\r\n\r\n          // Obtenemos los datos de cada mensaje del chat\r\n          this.fetcher.load(messageUri.doc()).then(response => {\r\n            let msgCreated = this.store.match(messageUri, TERMS(\"created\"), null, messageUri.doc()).map(st => { return (st.object.value) });\r\n            let msgMaker = this.store.match(messageUri, FOAF(\"maker\"), null, messageUri.doc()).map(st => { return (st.object.value) });\r\n            let msgContent = this.store.match(messageUri, SIOC(\"content\"), null, messageUri.doc()).map(st => { return (st.object.value) });\r\n            \r\n            messages.push(new Message(msgMaker, msgContent, new Date(msgCreated)));\r\n          });\r\n        }\r\n\r\n        // Creamos el canal de chat con los datos obtenidos y lo aadimos al array\r\n        let chatChannel: ChatChannel = new ChatChannel(id, title, new Date(created), participation, messages);\r\n        chatChannels.push(chatChannel);\r\n      });      \r\n    }\r\n\r\n    return chatChannels;\r\n  }\r\n\r\n  async getVCardName(webid: string) {\r\n    let me = this.store.sym(webid);\r\n    let name = \"\";\r\n    \r\n    await this.fetcher.load(me.doc()).then(response => {\r\n      this.store.match(me, VCARD(\"fn\"), null, me.doc()).map(st => { name = st.object.value });\r\n    });\r\n\r\n    return name;\r\n  }\r\n\r\n  async getVCardImage(webid: string) {\r\n    let me = this.store.sym(webid);\r\n    let image = \"\";\r\n    \r\n    await this.fetcher.load(me.doc()).then(response => {\r\n      this.store.match(me, VCARD(\"hasPhoto\"), null, me.doc()).map(st => { image = st.object.value });\r\n    });\r\n\r\n    return image;\r\n  }\r\n\r\n\r\n  \r\n   /***************************************************************/\r\n\r\n  /**\r\n   * Crea un fichero vaco\r\n   *\r\n   * @param newFile\r\n   */\r\n  async createFile(newFile, content?, contentType?) {\r\n    fileClient.createFile(newFile, content, contentType)\r\n        .then( fileCreated => { console.log(`Created file ${fileCreated}.`); }, err => console.log(err) );\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param file\r\n   */\r\n  async readFile(file) {\r\n    return fileClient.readFile(file).then(body => { return(body) }, err => console.log(err) );\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param url\r\n   * @param newContent\r\n   * @param contentType\r\n   */\r\n  async updateFile(url, newContent, contentType?: string) {\r\n    await fileClient.updateFile( url, newContent, contentType )\r\n        .then( success => { console.log( `Updated ${url}.`) }, err => console.log(err) );\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param url\r\n   */\r\n  async deleteFile(url) {\r\n    await fileClient.deleteFile(url)\r\n        .then(success => { console.log(`Deleted ${url}.`); }, err => console.log(err) );\r\n  }\r\n\r\n  /**\r\n   * URL FICHERO ORIGEN ---> URL FICHERO DESTINO\r\n   *\r\n   * @param oldFile\r\n   * @param newFile\r\n   */\r\n  async copyFile(oldFile,newFile) {\r\n    fileClient.readFile(oldFile).then( content => {\r\n      fileClient.createFile(newFile,content).then( res => {\r\n        return(res);\r\n      }, err => {throw new Error(\"copy upload error  \"+err)});\r\n    }, err => {throw new Error(\"copy download error  \"+err)});\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param url\r\n   */\r\n  async createFolder(url: string) {\r\n    await fileClient.createFolder(url)\r\n        .then(success => { console.log(`Created folder ${url}.`); }, err => console.log(err) );\r\n  }\r\n\r\n  /**\r\n   * {\r\n          type : \"folder\",\r\n          name : // folder name (without path),\r\n           url : // full URL of the resource,\r\n      modified : // dcterms:modified date\r\n         mtime : // stat:mtime\r\n          size : // stat:size\r\n        parent : // parentFolder or undef if none,\r\n       content : // raw content of the folder's turtle representation,\r\n         files : // an array of files in the folder\r\n       folders : // an array of sub-folders in the folder,\r\n      }\r\n   *\r\n   * @param url\r\n   */\r\n  async readFolder(url) {\r\n    return fileClient.readFolder(url).then(folder => { return(folder) }, err => console.log(err) );\r\n  }\r\n\r\n\r\n  \r\n\r\n\r\n\r\n\r\n  // ----------------------------------------------------------------\r\n  // ----------------------------------------------------------------\r\n  // ----------------------------------------------------------------\r\n  // ----------------------------------------------------------------\r\n\r\n  // Aadir\r\n  public newMessage() {\r\n    console.log(\"PROBANDO RDF\");\r\n\r\n    var link = 'http://www.w3.org/ns/ldp#Resource; rel=type';\r\n    var filename = \"chat_\" + Math.round(Math.random()*60000) + \".ttl\";\r\n    \r\n    //const me = this.store.sym('https://dcarballob01.solid.community/inbox/chat_' + new Date().getTime() + '.ttl');\r\n    const me = this.store.sym('https://dcarballob01.solid.community/private/testChat.ttl');\r\n    const profile = me.doc();\r\n\r\n    //let info = this.store.sym(\"https://dcarballob01.solid.community/private/testChat.ttl#info\");\r\n    let me1 = this.store.sym(\"https://dcarballob01.solid.community/private/testChat.ttl#dkfdjs3\");\r\n    let me2 = this.store.sym(\"https://dcarballob01.solid.community/private/testChat.ttl#dasdad2\");\r\n    let me3 = this.store.sym(\"https://dcarballob01.solid.community/private/testChat.ttl#dasdda4\");\r\n\r\n\r\n    this.store.add(me, SIOC(\"id\"), uuid.v4(), me.doc());\r\n    this.store.add(me, SIOC(\"user\"), \"David\", me.doc());\r\n\r\n    this.store.add(me1, SIOC(\"msg\"), \"MENSAJE +^{\", me1.doc());\r\n    this.store.add(me2, SIOC(\"msg\"), \"MENSAJE... 2\", me2.doc());\r\n\r\n    this.store.add(me3, SIOC(\"msg\"), \"HOLA MUNDO\", me3.doc());\r\n    this.store.add(me3, SIOC(\"hora\"), new Date(), me3.doc());\r\n    \r\n    this.fetcher.putBack(me);\r\n    this.fetcher.putBack(me1);\r\n    this.fetcher.putBack(me2);\r\n    this.fetcher.putBack(me3);\r\n  }\r\n\r\n   \r\n\r\n  // Cargar\r\n  public async loadMessages() {\r\n\r\n    const me = this.store.sym('https://dcarballob01.solid.community/private/testChat.ttl');\r\n    const profile = me.doc();\r\n\r\n    //this.fetcher.updater.addDownstreamChangeListener(doc, refreshFunction)\r\n    let folder = $rdf.sym('https://dcarballob01.solid.community/private/testChat.ttl');  // NOTE: Ends in a slash\r\n\r\n    let temp = new Array();\r\n\r\n    this.fetcher.load(profile).then( async response => {\r\n      // var msg = this.store.any(me, SIOC(\"msg\"));\r\n      //var msg = this.store.each(me,  SIOC(\"msg\"));\r\n\r\n      // Obtener todos los elementos\r\n      //var msg = this.store.match(null, null, null, me.doc()).map(st => temp.push(st.object));\r\n\r\n      // Obtener URL de los elementos\r\n      //var msg = this.store.match(null, null, null, me.doc()).map(st => temp.push(st.subject.value));\r\n      var msg = this.store.match(null, SIOC(\"msg\"), null, me.doc()).map(st => temp.push(st.subject.value));\r\n      console.log(temp);\r\n\r\n      var url = await this.generateUniqueUrlForResource(\"https://dcarballob01.solid.community/private/testChat.ttl\");\r\n      console.log(\"URL UNICA: \" + url);\r\n\r\n      // Solucionado: comprobando SIOC(\"msg\") ya nos aseguramos de que sean URLs de mensajes y no se repiten tampoco\r\n\r\n      // --> Problema: Se repiten las URL al obtenerlas debido a los diferentes campos\r\n      // --> Solucin: Comprobar que no esten ya en el array\r\n      // --> Adems, tambin obtiene URLs que no contienen \"#\"\r\n\r\n      // for (let index = 0; index < temp.length; index++) {\r\n      //   let test = this.store.sym(temp[index]);\r\n\r\n      //   this.fetcher.load(test.doc()).then(response => {\r\n      //     console.log(\"MENSAJE: \" + temp[index]);\r\n      //     this.store.match(test, SIOC(\"msg\"), null, test.doc()).map(st => console.log(\"CONTENIDO: \" + st.object.value));\r\n      //   });\r\n\r\n      // }\r\n      \r\n\r\n\r\n      //console.log(\"Tipo: \" + (typeof msg));\r\n    }, err => {\r\n      console.log(\"Load failed \" +  err);\r\n    });\r\n\r\n  }\r\n\r\n\r\n  // Cargar Inbox\r\n  public async getMessagesFromOtherPOD() {\r\n\r\n  }\r\n\r\n  // Actualizar\r\n  public async updateTest() {\r\n\r\n    const me = this.store.sym('https://dcarballob01.solid.community/public/chat_' + new Date().getTime() + '.ttl');\r\n    const doc = me.doc();\r\n\r\n    var ins = $rdf.st(\"PERSONA\", FLOW(\"message\"), \"Mensaje_Nuevo\", doc)\r\n    var del = []\r\n    \r\n    this.updateManager.update(del, ins, (uri, ok, message) => {\r\n      if (ok) console.log('Name changed to '+ \"DAVID\")\r\n      else alert(message)\r\n    })\r\n  }\r\n\r\n  // ----------------------------------------------------------------\r\n\r\n  \r\n  public test() {\r\n    //solid.auth.fetch(\"https://dcarballob01.solid.community/public/\",{headers: {accept: \"image/*;q=0.9, */*;q=0.1, application/rdf+xml;q=0.9, application/xhtml+xml, text/xml;q=0.5, application/xml;q=0.5, text/html;q=0.9, text/plain;q=0.5, text/n3;q=1.0, text/turtle;q=1\"}}).\r\n\r\n    solid.auth.fetch(\"https://dcarballob01.solid.community/inbox/\",{headers: {accept: DEFAULT_ACCEPT}}).\r\n    then(function(response){return response.text();}).\r\n    then(function(data){ console.log(data);})\r\n  }\r\n\r\n\r\n  public async getAllInbox(inboxUrl) {\r\n    /* const urlMsg = \"https://dcarballob01.solid.community/inbox/3eb771b0-3c84-11e9-81a7-73e11fa71822.txt\";\r\n    const inbox = \"https://dcarballob01.solid.community/inbox/\";\r\n\r\n    const me = this.store.sym('https://dcarballob01.solid.community/inbox/');\r\n    const doc = me.doc(); */\r\n\r\n    //var temp = this.store.match(null, null, doc, null);\r\n    //console.log(temp);\r\n\r\n    /* solid.auth.fetch(\"https://dcarballob01.solid.community/inbox/\",{headers: {accept: DEFAULT_ACCEPT}}).\r\n    then(function(response){return response.text();}).\r\n    then(function(data){ console.log(data);}) */\r\n\r\n    /* solid.auth.fetch(inbox).then(response => {return response.text();\r\n    }).then(data => {console.log(data)}); */\r\n\r\n    //const inbox = \"https://dcarballob01.solid.community/inbox/\";\r\n\r\n    //this.checkInbox(inbox);\r\n    //this.sendToUserInbox(\"https://carballo09.solid.community/inbox\", \"test\");\r\n \r\n\r\n    /* const userDataUrl = 'https://dcarballob01.solid.community/public/';\r\n    const otherUrl = \"https://carballo09.solid.community/public/chat_test.ttl\";\r\n\r\n    const folder = \"https://dcarballob01.solid.community/public/chat\"; */\r\n\r\n\r\n\r\n\r\n\r\n    /* // CARGAR CONTENIDO DE OTRO POD (PUBLIC)\r\n    inboxUrl = \"https://carballo09.solid.community/public/chat_test.ttl\";\r\n\r\n    await this.fetcher.load(inboxUrl);\r\n    let temp = this.store.match();\r\n    console.log(temp); */\r\n\r\n  }\r\n\r\n  \r\n\r\n\r\n\r\n  // ------------ FUNCIONES CASI VLIDAS ------------------\r\n\r\n  // Busca nuevas notificaciones de mensajes\r\n  async checkInbox(inboxUrl) {\r\n    let urls = await this.getAllUrlsResourcesInInbox(inboxUrl);\r\n    for (let index = 0; index < urls.length; index++) {\r\n      let content = await this.getContentInboxNotification(urls[index]);\r\n      \r\n      // Procesamos notificaciones de DeChat, una vez procesadas las borramos\r\n      if(content.includes('Prueba')) {\r\n        this.deleteFileForUser(urls[index]);\r\n        console.log(content);\r\n      }\r\n    }\r\n  }\r\n\r\n  // Devuelve las url de los documentos que hay en el inbox\r\n  async getAllUrlsResourcesInInbox(inboxUrl): Promise<any[]> {\r\n    await this.fetcher.load(inboxUrl);\r\n    return this.store.match(null, LDP('contains')).map(st => { return st.object.value });\r\n  }\r\n\r\n  // Devuelve el contenido de una notificacin\r\n  // Devuelve Promise, por tanto \".then(data=>{console.log(data)});\"\r\n  async getContentInboxNotification(urlNotificationInbox): Promise<any> {\r\n    return solid.auth.fetch(urlNotificationInbox).then(response => {return response.text();});\r\n  }\r\n\r\n\r\n  \r\n\r\n  // ------------ FUNCIONES VLIDAS ------------------\r\n\r\n  public uniqid(): string {\r\n    return '#' + Math.random().toString(36).substr(2, 9);\r\n  }\r\n\r\n  /**\r\n   * This method creates an empty file for the given url. It overwrites existing files.\r\n   * @param url: the url of the empty file\r\n   * @returns {Promise}: the promise from auth.fetch().\r\n   */\r\n  createEmptyFileForUser(url) {\r\n    var request = {\r\n      method: 'PUT',\r\n      body: ''\r\n    };\r\n    return solid.auth.fetch( url, request );\r\n  }\r\n\r\n  /**\r\n   * This method sends a notification to an inbox.\r\n   * @param url: the url of the inbox.\r\n   * @param data: the RDF data representing the notification.\r\n   * @returns {Promise}: the promise from auth.fetch().\r\n   */\r\n  sendToUserInbox(urlInbox, data) {\r\n    var request = {\r\n      method: 'POST',\r\n      body: data\r\n    }\r\n    return solid.auth.fetch( urlInbox, request );\r\n  }\r\n\r\n  /**\r\n   * This method deletes a file.\r\n   * @param url: the url of the file that needs to be deleted.\r\n   * @returns {Promise}: the promise from auth.fetch().\r\n   */\r\n  deleteFileForUser(urlFile) {\r\n    var request = {\r\n      method: 'DELETE'\r\n    }\r\n    return solid.auth.fetch( urlFile, request );\r\n  }\r\n\r\n  /**\r\n   * This method executes an SPARQL update on a file.\r\n   * @param url: the url of the file that needs to be updated.\r\n   * @param query: the SPARQL update query that needs to be executed.\r\n   * @returns {Promise}: the promise from auth.fetch().\r\n   */\r\n  executeSPARQLUpdateForUser(url, query) {\r\n    var request = {\r\n      method: 'PATCH',\r\n      body: query,\r\n      headers: {\r\n        'Content-Type': 'application/sparql-update'\r\n      }\r\n    };\r\n    return solid.auth.fetch( url, request );\r\n  }\r\n\r\n  /**\r\n   * This method checks if the current user has write access to a file.\r\n   * @param url: the url of the file to check.\r\n   * @returns {Promise<boolean>}: a promise that resolves with true if the user has write access, else false.\r\n   */\r\n  async writePermission(url) {\r\n    // TODO We should probably check the ACL of the parent folder to see if we can write if the file doesn't exist and\r\n    // if the file exists, we check the ACL of the file.\r\n    const response = await this.executeSPARQLUpdateForUser(url, 'INSERT DATA {}');\r\n    return response.status === 200;\r\n  }\r\n\r\n  // Genera una URL nica para un recurso (POSIBLEMENTE NECESARIO CAMBIAR EL NAMESPACE)\r\n  async generateUniqueUrlForResource(baseurl) {\r\n    let url = this.store.sym(baseurl + '#' + uuid.v4());\r\n\r\n    try {\r\n      await this.fetcher.load(url.doc()).then(async response => {\r\n        //var d = this.store.each(url, RDF('type'));\r\n        var d = this.store.each(url);\r\n\r\n        // We assume that if this url doesn't have a type, the url is unused.\r\n        // Ok, this is not the most fail-safe thing.\r\n        // TODO: check if there are any triples at all.\r\n        while (d.length != 0) {\r\n          url = baseurl + '#' + uuid.v4();\r\n          //d = this.store.each(url, RDF('type'));\r\n          d = await this.store.each(url);\r\n        }\r\n      }, err => {\r\n        console.log(\"Load failed \" +  err);\r\n      });\r\n    } catch (e) {\r\n      // this means that response of data[url] returns a 404\r\n      // TODO might be called when you have no access, should check\r\n    } finally {\r\n      return url;\r\n    }\r\n  }\r\n\r\n  /* async generateInvitation(baseUrl, chatUrl, userWebId, opponentWebId) {\r\n    const invitationUrl = await this.generateUniqueUrlForResource(baseUrl);\r\n    const notification = `<${invitationUrl}> a ` + SCHEMA('InviteAction');\r\n    console.log(notification);\r\n    const sparqlUpdate = `\r\n    <${invitationUrl}> a <`+SCHEMA(\"InviteAction\")+`>;\r\n      <`+SCHEMA(\"event\")+`> <${chatUrl}>;\r\n      <`+SCHEMA(\"agent\")+`> <${userWebId}>;\r\n      <`+SCHEMA(\"recipient\")+`> <${opponentWebId}>.\r\n  `;\r\n\r\n    return {\r\n      notification,\r\n      sparqlUpdate\r\n    };\r\n  } */\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Observable, from } from 'rxjs';\r\nimport { RdfService } from './rdf.service';\r\nimport { SolidProvider } from '../models/solid-provider.model';\r\ndeclare let solid: any;\r\n\r\ninterface SolidSession {\r\n  accessToken: string;\r\n  clientId: string;\r\n  idToken: string;\r\n  sessionKey: string;\r\n  webId: string;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AuthService {\r\n  session: Observable<SolidSession>;\r\n  fechInit = {\r\n    method: 'PATCH',\r\n    headers: {\r\n      'Content-Type': 'application/sparql-update',\r\n    },\r\n    body: '',\r\n  };\r\n\r\n  constructor(private router: Router, private rdf: RdfService) {\r\n    this.isSessionActive();\r\n  }\r\n\r\n  /*\r\n   * This will check if current session is active to avoid security problems\r\n  */\r\n  isSessionActive = async () => {\r\n    this.session = from(solid.auth.currentSession());\r\n  }\r\n\r\n  /**\r\n   * Alternative login-popup function. This will open a popup that will allow you to choose an identity provider\r\n   * without leaving the current page\r\n   * This is recommended if you don't want to leave the current workflow.\r\n   */\r\n  solidLoginPopup = async () => {\r\n    try {\r\n      await solid.auth.popupLogin({ popupUri: './login-popup'});\r\n      // Check if session is valid to avoid redirect issues\r\n      await this.isSessionActive();\r\n\r\n      // popupLogin success redirect to profile\r\n      this.router.navigate(['/card']);\r\n    } catch (error) {\r\n      console.log(`Error: ${error}`);\r\n    }\r\n  }\r\n\r\n  /*\r\n  * Signs out of Solid in this app, by calling the logout function and clearing the localStorage token\r\n  */\r\n  solidSignOut = async () => {\r\n    try {\r\n      await solid.auth.logout();\r\n      // Remove localStorage\r\n      localStorage.removeItem('solid-auth-client');\r\n      // Redirect to login page\r\n      this.router.navigate(['/']);\r\n    } catch (error) {\r\n      console.log(`Error: ${error}`);\r\n    }\r\n  }\r\n\r\n  saveOldUserData = (profile: any) => {\r\n    if (!localStorage.getItem('oldProfileData')) {\r\n      localStorage.setItem('oldProfileData', JSON.stringify(profile));\r\n    }\r\n  }\r\n\r\n  getOldUserData = () => {\r\n    return JSON.parse(localStorage.getItem('oldProfileData'));\r\n  }\r\n\r\n  /*\r\n  *  Make a call to the solid auth endpoint. It requires an identity provider url, which here is coming from the dropdown, which\r\n  *  is populated by the getIdentityProviders() function call. It currently requires a callback url and a storage option or else\r\n  *  the call will fail.\r\n  */\r\n  solidLogin = async (idp: string) => {\r\n    await solid.auth.login(idp, {\r\n      callbackUri: `${window.location.href}card`,\r\n      storage: localStorage,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Function to get providers. This is to mimic the future provider registry\r\n   *\r\n   * @return {SolidProvider[]} A list of SolidProviders\r\n   */\r\n  getIdentityProviders(): SolidProvider[] {\r\n    const inruptProvider: SolidProvider = {\r\n      name: 'Inrupt',\r\n      image: '/assets/images/Inrupt.png',\r\n      loginUrl: 'https://inrupt.net/auth',\r\n      desc: 'Inrupt Inc. provider'\r\n    };\r\n    const solidCommunityProvider: SolidProvider = {\r\n      name: 'Solid Community',\r\n      image: '/assets/images/Solid.png',\r\n      loginUrl: 'https://solid.community',\r\n      desc: 'A provider maintained by the Solid Community'\r\n    };\r\n    const otherProvider: SolidProvider = {\r\n      name: 'Other (Enter WebID)',\r\n      image: '/assets/images/Generic.png',\r\n      loginUrl: null,\r\n      desc: 'Generic provider'\r\n    };\r\n\r\n    return [\r\n      inruptProvider,\r\n      solidCommunityProvider,\r\n      otherProvider\r\n    ];\r\n  }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * In development mode, to ignore zone related error stack frames such as\r\n * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can\r\n * import the following file, but please comment it out in production mode\r\n * because it will have performance impact when throw error\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.log(err));\r\n"],"sourceRoot":""}